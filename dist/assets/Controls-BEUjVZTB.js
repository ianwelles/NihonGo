import{c as n,u as V,r as d,j as e}from"./index-C0rj3pUc.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q=n("calendar",F);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S=n("chevron-right",H);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],U=n("chevron-up",B);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],G=n("eye-off",Z);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y=n("info",K);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],J=n("landmark",W);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],X=n("map",Q);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],ee=n("panel-left-close",Y);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],se=n("store",te);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],re=n("utensils",ae);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],oe=n("wine",le);function ne(x){const i=/<\/?(a|strong|em|p)[^>]*>/gi,o=x.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on[a-z]+=/gi,"").replace(/(<a[^>]*target="[^"]*"[^>]*>)/gi,"$1").replace(/(<a[^>]*rel="[^"]*"[^>]*>)/gi,"$1").replace(/<a([^>]*?)>/gi,'<a$1 target="_blank" rel="noopener noreferrer">');return{__html:o.match(i)?o:o.replace(/</g,"&lt;").replace(/>/g,"&gt;")}}const ie=({type:x,size:i=18,color:o})=>{switch(x){case"sight_rec":case"sight":return e.jsx(J,{size:i,style:{color:o}});case"food_rec":case"food":return e.jsx(re,{size:i,style:{color:o}});case"bar_rec":case"bar":return e.jsx(oe,{size:i,style:{color:o}});case"shopping":return e.jsx(se,{size:i,style:{color:o}});default:return e.jsx(y,{size:i,style:{color:o}})}},de=({onHide:x})=>{const{toggles:i,toggleCategory:o,openDay:c,isSidebarOpen:j,toggleSidebar:z,activeCity:a,setActiveCity:m,setOpenDay:E,itineraryData:O,tipsList:I,theme:w,isMobile:T}=V(),[p,f]=d.useState(!1),[h,u]=d.useState(!1),[g,N]=d.useState(a||null),[b,A]=d.useState(null),k=d.useRef(null),C=O.reduce((t,s)=>{const l=s.city,v=`day${s.dayNumber}-${s.city}`;return t[l]||(t[l]=[]),t[l].push({label:`Day ${s.dayNumber}`,identifier:v}),t},{}),$="flex items-center justify-center gap-3 px-4 h-14 rounded-xl border backdrop-blur-md transition-all duration-300 text-xs font-black uppercase tracking-widest hover:opacity-100 hover:scale-[1.02] active:scale-95",r=a&&w.cityColors[a]||"#FF1744";d.useEffect(()=>{const t=s=>{k.current&&!k.current.contains(s.target)&&(f(!1),u(!1))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),d.useEffect(()=>{p&&(u(!1),a&&N(a))},[p,a]),d.useEffect(()=>{h&&f(!1)},[h]);const L=t=>{g===t?(m(t),f(!1)):N(t)},D=()=>c?`Day ${c.replace("day","").split("-")[0]}`:a||"City",M=T?"max-h-[calc(100dvh-320px)]":"max-h-[calc(100dvh-280px)]",_=()=>e.jsx("div",{className:"flex justify-center flex-shrink-0",children:e.jsxs("button",{onClick:t=>{t.stopPropagation(),x==null||x()},className:"bg-black/60 backdrop-blur-md border border-white/10 text-gray-400 hover:text-white px-4 py-1.5 rounded-full flex items-center gap-2 transition-all hover:bg-black/80 group pointer-events-auto",title:"Hide Controls",children:[e.jsx("div",{className:"w-8 h-1 bg-[#ef4444]/60 rounded-full group-hover:bg-[#ef4444] transition-colors shadow-[0_0_8px_rgba(239,68,68,0.3)]"}),e.jsx(G,{size:14,className:"group-hover:text-[#ef4444] transition-colors"})]})}),P=t=>w.markerColors[t]||"#ffffff",R=Object.keys(i).sort();return e.jsxs("div",{className:"flex flex-col gap-3 w-full relative",ref:k,children:[e.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-3 flex flex-col gap-3 pointer-events-none z-[10000]",children:[(p||h)&&e.jsx(_,{}),p&&e.jsxs("div",{className:`w-full bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-2xl flex flex-col ${M} animate-in slide-in-from-bottom-2 duration-200 pointer-events-auto`,children:[e.jsxs("div",{className:"px-5 py-4 bg-white/5 text-xs font-black text-gray-300 uppercase tracking-widest border-b border-white/10 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-4 w-1 rounded-full",style:{backgroundColor:r}}),e.jsx("span",{children:"Select City"})]}),e.jsx("button",{onClick:()=>{m(null),f(!1)},className:"text-xs hover:underline",style:{color:r},children:"Reset"})]}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:Object.keys(C).map(t=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>L(t),className:`px-5 py-4 flex items-center justify-between transition-colors hover:bg-white/5 ${a===t&&!c?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:a===t?{backgroundColor:r}:{backgroundColor:"transparent",border:"1px solid rgba(255,255,255,0.2)"}}),e.jsx("span",{className:"text-sm font-black uppercase tracking-wider",children:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a===t&&!c&&e.jsx("span",{className:"text-[10px] font-bold tracking-tighter",style:{color:r},children:"ACTIVE"}),e.jsx(S,{size:18,className:`transition-transform duration-300 ${g===t?"rotate-90":""}`})]})]}),g===t&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 grid grid-cols-2 gap-2 p-3",children:C[t].map(s=>{const l=c===s.identifier;return e.jsx("button",{onClick:v=>{v.stopPropagation(),m(t),E(s.identifier),f(!1)},className:`px-3 py-3 text-xs font-bold rounded-lg transition-all text-center ${l?"text-white":"bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white"}`,style:l?{backgroundColor:r}:{},children:s.label},s.identifier)})})]},t))})]}),h&&e.jsxs("div",{className:`w-full bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-2xl flex flex-col ${M} animate-in slide-in-from-bottom-2 duration-200 pointer-events-auto`,children:[e.jsx("div",{className:"px-5 py-4 bg-white/5 border-b border-white/10 flex justify-between items-center flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-4 w-1 bg-amber-400 rounded-full"}),e.jsx("span",{className:"text-xs font-black text-amber-400 uppercase tracking-widest",children:"Shopping & Travel Tips"})]})}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:I.map(t=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>A(b===t.title?null:t.title),className:`px-5 py-4 flex items-center justify-between transition-colors hover:bg-white/5 ${b===t.title?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${b===t.title?"bg-amber-400":"bg-transparent border border-white/20"}`}),e.jsx("span",{className:"text-sm font-black uppercase tracking-wider text-left",children:t.title})]}),e.jsx(S,{size:18,className:`shrink-0 transition-transform duration-300 ${b===t.title?"rotate-90":""}`})]}),b===t.title&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 flex flex-col p-3 gap-3",children:t.items.map((s,l)=>e.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 bg-white/5 border border-white/5 rounded-xl",children:[e.jsx(y,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-amber-400"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-xs font-black text-white uppercase tracking-wide",children:s.name}),s.notes&&e.jsx("div",{className:"text-sm text-gray-300 mt-1 leading-relaxed",dangerouslySetInnerHTML:ne(s.notes)})]})]},l))})]},t.title))})]})]}),!p&&!h&&e.jsx("div",{className:"-mb-1",children:e.jsx(_,{})}),e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("div",{className:"flex overflow-x-auto gap-2 pb-2 no-scrollbar px-1 -mx-1",children:[R.map(t=>{const s=i[t],l=P(t);return e.jsxs("button",{onClick:()=>o(t),className:`flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-full border backdrop-blur-md transition-all duration-300 text-[10px] font-black uppercase tracking-wider
                  ${s?"bg-black/70 text-white shadow-lg":"bg-black/40 border-white/10 text-gray-400 hover:border-white/30"}`,style:s?{borderColor:`${l}80`,boxShadow:`0 0 10px ${l}33`}:{},children:[e.jsx(ie,{type:t,size:14,color:s?l:"#9ca3af"}),e.jsx("span",{children:t.replace(/_/g," ")})]},t)}),e.jsxs("button",{onClick:()=>u(!h),className:`flex-shrink-0 flex items-center gap-2 px-4 py-2.5 rounded-full border transition-all duration-300 text-[10px] font-black uppercase tracking-wider
              ${h?"bg-amber-500/25 border-amber-500/50 text-amber-100":"bg-amber-500/10 border-amber-500/20 text-amber-200/70"}`,children:[e.jsx(y,{size:14}),e.jsx("span",{children:"Tips"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full relative",children:[e.jsxs("button",{onClick:t=>{t.stopPropagation(),f(!p)},className:`${$} ${c||a?"":"bg-black/70 border-white/60 text-white"} justify-between px-5 transition-all duration-300`,style:c||a?{backgroundColor:`${r}26`,borderColor:r,color:r,boxShadow:`0 0 12px ${r}59`}:{},children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx(q,{size:18,style:{color:c||a?r:"white"}}),e.jsx("span",{className:"truncate text-sm",children:D()})]}),e.jsx(U,{size:16,className:`shrink-0 transition-transform duration-300 ${p?"rotate-180":""}`})]}),e.jsxs("button",{onClick:t=>{t.stopPropagation(),z()},className:`${$} px-5`,style:{backgroundColor:`${r}26`,borderColor:r,color:r,boxShadow:`0 0 12px ${r}59`},children:[j?e.jsx(ee,{size:18}):e.jsx(X,{size:18}),e.jsx("span",{className:"text-sm",children:j?"Close":"Itinerary"})]})]})]})]})};export{de as Controls};
