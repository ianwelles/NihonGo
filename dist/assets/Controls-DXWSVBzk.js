import{c as o,r as d,i as Z,j as e,t as J,m as K}from"./index-Xw0q0mwo.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],W=o("calendar",Q);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],L=o("chevron-right",X);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],D=o("chevron-up",Y);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ee=o("eye-off",S);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],T=o("info",se);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],re=o("landmark",te);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],le=o("map",ae);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],oe=o("panel-left-close",ne);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ce=o("store",ie);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],he=o("utensils",de);function xe(n){const p=/<\/?(a|strong|em|p)[^>]*>/gi,l=n.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on[a-z]+=/gi,"").replace(/(<a[^>]*target="[^"]*"[^>]*>)/gi,"$1").replace(/(<a[^>]*rel="[^"]*"[^>]*>)/gi,"$1").replace(/<a([^>]*?)>/gi,'<a$1 target="_blank" rel="noopener noreferrer">');return{__html:l.match(p)?l:l.replace(/</g,"&lt;").replace(/>/g,"&gt;")}}const me=({toggles:n,toggleCategory:p,openDay:l,isSidebarOpen:$,onToggleSidebar:M,activeCity:r,onSelectCity:i,itineraryData:O,tipsList:A,onHide:u,isMobile:F,onSelectDay:k,cityColors:P={},markerColors:R={}})=>{const[h,m]=d.useState(!1),[x,g]=d.useState(!1),[j,z]=d.useState(r||null),[b,V]=d.useState(null),v=d.useRef(null),q=O||Z,B=A||J,C=q.reduce((s,t)=>{const c=t.city,y=`day${t.dayNumber}-${t.city}`;return s[c]||(s[c]=[]),s[c].push({label:`Day ${t.dayNumber}`,identifier:y}),s},{}),f="flex items-center justify-center gap-3 px-4 h-14 rounded-xl border backdrop-blur-md transition-all duration-300 text-xs font-black uppercase tracking-widest hover:opacity-100 hover:scale-[1.02] active:scale-95",w="bg-black/70 border-white/50 text-white shadow-lg opacity-100",N="bg-black/40 border-white/10 text-gray-300 opacity-80 hover:border-white/40",a=r&&P[r]||"#FF1744",H="bg-amber-500/15 border-amber-500/30 text-amber-200 shadow-[0_0_12px_rgba(245,158,11,0.25)] hover:bg-amber-500/25";d.useEffect(()=>{const s=t=>{v.current&&!v.current.contains(t.target)&&(m(!1),g(!1))};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),d.useEffect(()=>{h&&(g(!1),r&&z(r))},[h,r]),d.useEffect(()=>{x&&m(!1)},[x]);const U=s=>{j===s?(i==null||i(s),m(!1)):z(s)},G=()=>l?`Day ${l.replace("day","").split("-")[0]}`:r||"City",E=F?"max-h-[calc(100dvh-320px)]":"max-h-[calc(100dvh-280px)]",I=()=>e.jsx("div",{className:"flex justify-center flex-shrink-0",children:e.jsxs("button",{onClick:s=>{s.stopPropagation(),u==null||u()},className:"bg-black/60 backdrop-blur-md border border-white/10 text-gray-400 hover:text-white px-4 py-1.5 rounded-full flex items-center gap-2 transition-all hover:bg-black/80 group pointer-events-auto",title:"Hide Controls",children:[e.jsx("div",{className:"w-8 h-1 bg-[#ef4444]/60 rounded-full group-hover:bg-[#ef4444] transition-colors shadow-[0_0_8px_rgba(239,68,68,0.3)]"}),e.jsx(ee,{size:14,className:"group-hover:text-[#ef4444] transition-colors"})]})}),_=s=>R[s]||K[s]||"#ffffff";return e.jsxs("div",{className:"flex flex-col gap-3 w-full relative",ref:v,children:[e.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-3 flex flex-col gap-3 pointer-events-none z-[10000]",children:[(h||x)&&e.jsx(I,{}),h&&e.jsxs("div",{className:`w-full bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-2xl flex flex-col ${E} animate-in slide-in-from-bottom-2 duration-200 pointer-events-auto`,children:[e.jsxs("div",{className:"px-5 py-4 bg-white/5 text-xs font-black text-gray-300 uppercase tracking-widest border-b border-white/10 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-4 w-1 rounded-full",style:{backgroundColor:a}}),e.jsx("span",{children:"Select City"})]}),e.jsx("button",{onClick:()=>{i==null||i(null),m(!1)},className:"text-xs hover:underline",style:{color:a},children:"Reset"})]}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:Object.keys(C).map(s=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>U(s),className:`px-5 py-4 flex items-center justify-between transition-colors hover:bg-white/5 ${r===s&&!l?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:r===s?{backgroundColor:a}:{backgroundColor:"transparent",border:"1px solid rgba(255,255,255,0.2)"}}),e.jsx("span",{className:"text-sm font-black uppercase tracking-wider",children:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[r===s&&!l&&e.jsx("span",{className:"text-[10px] font-bold tracking-tighter",style:{color:a},children:"ACTIVE"}),e.jsx(L,{size:18,className:`transition-transform duration-300 ${j===s?"rotate-90":""}`})]})]}),j===s&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 grid grid-cols-2 gap-2 p-3",children:C[s].map(t=>{const c=l===t.identifier;return e.jsx("button",{onClick:y=>{y.stopPropagation(),i==null||i(s),k==null||k(t.identifier),m(!1)},className:`px-3 py-3 text-xs font-bold rounded-lg transition-all text-center ${c?"text-white":"bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white"}`,style:c?{backgroundColor:a}:{},children:t.label},t.identifier)})})]},s))})]}),x&&e.jsxs("div",{className:`w-full bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-2xl flex flex-col ${E} animate-in slide-in-from-bottom-2 duration-200 pointer-events-auto`,children:[e.jsx("div",{className:"px-5 py-4 bg-white/5 border-b border-white/10 flex justify-between items-center flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-4 w-1 bg-amber-400 rounded-full"}),e.jsx("span",{className:"text-xs font-black text-amber-400 uppercase tracking-widest",children:"Shopping & Travel Tips"})]})}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:B.map(s=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>V(b===s.title?null:s.title),className:`px-5 py-4 flex items-center justify-between transition-colors hover:bg-white/5 ${b===s.title?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${b===s.title?"bg-amber-400":"bg-transparent border border-white/20"}`}),e.jsx("span",{className:"text-sm font-black uppercase tracking-wider text-left",children:s.title})]}),e.jsx(L,{size:18,className:`shrink-0 transition-transform duration-300 ${b===s.title?"rotate-90":""}`})]}),b===s.title&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 flex flex-col p-3 gap-3",children:s.items.map((t,c)=>e.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 bg-white/5 border border-white/5 rounded-xl",children:[e.jsx(T,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-amber-400"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-xs font-black text-white uppercase tracking-wide",children:t.name}),t.notes&&e.jsx("div",{className:"text-sm text-gray-300 mt-1 leading-relaxed",dangerouslySetInnerHTML:xe(t.notes)})]})]},c))})]},s.title))})]})]}),!h&&!x&&e.jsx("div",{className:"-mb-1",children:e.jsx(I,{})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full",children:[e.jsxs("button",{onClick:()=>p("sight_rec"),className:`${f} ${n.sight_rec?w:N}`,children:[e.jsx(re,{size:18,style:{color:n.sight_rec?_("sight_rec"):"#9ca3af"}}),e.jsx("span",{children:"Landmarks"})]}),e.jsxs("button",{onClick:()=>{p("food_rec"),p("bar_rec")},className:`${f} ${n.food_rec||n.bar_rec?w:N}`,children:[e.jsx(he,{size:18,style:{color:n.food_rec||n.bar_rec?_("food_rec"):"#9ca3af"}}),e.jsx("span",{children:"Food & Drink"})]}),e.jsxs("button",{onClick:()=>p("shopping"),className:`${f} ${n.shopping?w:N}`,children:[e.jsx(ce,{size:18,style:{color:n.shopping?_("shopping"):"#9ca3af"}}),e.jsx("span",{children:"Shopping"})]}),e.jsxs("button",{onClick:()=>g(!x),className:`${f} ${x?"bg-amber-500/25 border-amber-500/50 text-amber-100 shadow-[0_0_15px_rgba(245,158,11,0.35)]":H}`,children:[e.jsx(T,{size:18}),e.jsx("span",{children:"Tips"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full relative",children:[e.jsxs("button",{onClick:s=>{s.stopPropagation(),m(!h)},className:`${f} ${l||r?"":"bg-black/70 border-white/60 text-white"} justify-between px-5 transition-all duration-300`,style:l||r?{backgroundColor:`${a}26`,borderColor:a,color:a,boxShadow:`0 0 12px ${a}59`}:{},children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx(W,{size:18,style:{color:l||r?a:"white"}}),e.jsx("span",{className:"truncate text-sm",children:G()})]}),e.jsx(D,{size:16,className:`shrink-0 transition-transform duration-300 ${h?"rotate-180":""}`})]}),e.jsxs("button",{onClick:s=>{s.stopPropagation(),M&&M()},className:`${f} px-5`,style:{backgroundColor:`${a}26`,borderColor:a,color:a,boxShadow:`0 0 12px ${a}59`},children:[$?e.jsx(oe,{size:18}):e.jsx(le,{size:18}),e.jsx("span",{className:"text-sm",children:$?"Close":"Itinerary"})]})]})]})};export{me as Controls};
