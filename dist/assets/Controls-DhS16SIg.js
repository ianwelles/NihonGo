import{c as o,u as q,r as d,j as e}from"./index-CQrV_byM.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H=o("calendar",B);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],E=o("chevron-right",U);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z=o("chevron-up",G);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],K=o("eye-off",J);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],O=o("info",Q);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],X=o("landmark",W);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ee=o("map",Y);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],se=o("panel-left-close",te);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],re=o("store",ae);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],oe=o("utensils",le);function ie(m){const l=/<\/?(a|strong|em|p)[^>]*>/gi,i=m.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on[a-z]+=/gi,"").replace(/(<a[^>]*target="[^"]*"[^>]*>)/gi,"$1").replace(/(<a[^>]*rel="[^"]*"[^>]*>)/gi,"$1").replace(/<a([^>]*?)>/gi,'<a$1 target="_blank" rel="noopener noreferrer">');return{__html:i.match(l)?i:i.replace(/</g,"&lt;").replace(/>/g,"&gt;")}}const ce=({onHide:m})=>{const{toggles:l,toggleCategory:i,openDay:n,isSidebarOpen:C,toggleSidebar:T,activeCity:a,setActiveCity:u,setOpenDay:I,itineraryData:L,tipsList:A,theme:_,isMobile:D}=q(),[h,x]=d.useState(!1),[p,g]=d.useState(!1),[v,$]=d.useState(a||null),[f,F]=d.useState(null),k=d.useRef(null),M=L.reduce((t,s)=>{const c=s.city,N=`day${s.dayNumber}-${s.city}`;return t[c]||(t[c]=[]),t[c].push({label:`Day ${s.dayNumber}`,identifier:N}),t},{}),b="flex items-center justify-center gap-3 px-4 h-14 rounded-xl border backdrop-blur-md transition-all duration-300 text-xs font-black uppercase tracking-widest hover:opacity-100 hover:scale-[1.02] active:scale-95",y="bg-black/70 border-white/50 text-white shadow-lg opacity-100",j="bg-black/40 border-white/10 text-gray-300 opacity-80 hover:border-white/40",r=a&&_.cityColors[a]||"#FF1744",P="bg-amber-500/15 border-amber-500/30 text-amber-200 shadow-[0_0_12px_rgba(245,158,11,0.25)] hover:bg-amber-500/25";d.useEffect(()=>{const t=s=>{k.current&&!k.current.contains(s.target)&&(x(!1),g(!1))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),d.useEffect(()=>{h&&(g(!1),a&&$(a))},[h,a]),d.useEffect(()=>{p&&x(!1)},[p]);const R=t=>{v===t?(u(t),x(!1)):$(t)},V=()=>n?`Day ${n.replace("day","").split("-")[0]}`:a||"City",z=D?"max-h-[calc(100dvh-320px)]":"max-h-[calc(100dvh-280px)]",S=()=>e.jsx("div",{className:"flex justify-center flex-shrink-0",children:e.jsxs("button",{onClick:t=>{t.stopPropagation(),m==null||m()},className:"bg-black/60 backdrop-blur-md border border-white/10 text-gray-400 hover:text-white px-4 py-1.5 rounded-full flex items-center gap-2 transition-all hover:bg-black/80 group pointer-events-auto",title:"Hide Controls",children:[e.jsx("div",{className:"w-8 h-1 bg-[#ef4444]/60 rounded-full group-hover:bg-[#ef4444] transition-colors shadow-[0_0_8px_rgba(239,68,68,0.3)]"}),e.jsx(K,{size:14,className:"group-hover:text-[#ef4444] transition-colors"})]})}),w=t=>_.markerColors[t]||"#ffffff";return e.jsxs("div",{className:"flex flex-col gap-3 w-full relative",ref:k,children:[e.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-3 flex flex-col gap-3 pointer-events-none z-[10000]",children:[(h||p)&&e.jsx(S,{}),h&&e.jsxs("div",{className:`w-full bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-2xl flex flex-col ${z} animate-in slide-in-from-bottom-2 duration-200 pointer-events-auto`,children:[e.jsxs("div",{className:"px-5 py-4 bg-white/5 text-xs font-black text-gray-300 uppercase tracking-widest border-b border-white/10 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-4 w-1 rounded-full",style:{backgroundColor:r}}),e.jsx("span",{children:"Select City"})]}),e.jsx("button",{onClick:()=>{u(null),x(!1)},className:"text-xs hover:underline",style:{color:r},children:"Reset"})]}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:Object.keys(M).map(t=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>R(t),className:`px-5 py-4 flex items-center justify-between transition-colors hover:bg-white/5 ${a===t&&!n?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:a===t?{backgroundColor:r}:{backgroundColor:"transparent",border:"1px solid rgba(255,255,255,0.2)"}}),e.jsx("span",{className:"text-sm font-black uppercase tracking-wider",children:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a===t&&!n&&e.jsx("span",{className:"text-[10px] font-bold tracking-tighter",style:{color:r},children:"ACTIVE"}),e.jsx(E,{size:18,className:`transition-transform duration-300 ${v===t?"rotate-90":""}`})]})]}),v===t&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 grid grid-cols-2 gap-2 p-3",children:M[t].map(s=>{const c=n===s.identifier;return e.jsx("button",{onClick:N=>{N.stopPropagation(),u(t),I(s.identifier),x(!1)},className:`px-3 py-3 text-xs font-bold rounded-lg transition-all text-center ${c?"text-white":"bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white"}`,style:c?{backgroundColor:r}:{},children:s.label},s.identifier)})})]},t))})]}),p&&e.jsxs("div",{className:`w-full bg-black/95 backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden shadow-2xl flex flex-col ${z} animate-in slide-in-from-bottom-2 duration-200 pointer-events-auto`,children:[e.jsx("div",{className:"px-5 py-4 bg-white/5 border-b border-white/10 flex justify-between items-center flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-4 w-1 bg-amber-400 rounded-full"}),e.jsx("span",{className:"text-xs font-black text-amber-400 uppercase tracking-widest",children:"Shopping & Travel Tips"})]})}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:A.map(t=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>F(f===t.title?null:t.title),className:`px-5 py-4 flex items-center justify-between transition-colors hover:bg-white/5 ${f===t.title?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${f===t.title?"bg-amber-400":"bg-transparent border border-white/20"}`}),e.jsx("span",{className:"text-sm font-black uppercase tracking-wider text-left",children:t.title})]}),e.jsx(E,{size:18,className:`shrink-0 transition-transform duration-300 ${f===t.title?"rotate-90":""}`})]}),f===t.title&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 flex flex-col p-3 gap-3",children:t.items.map((s,c)=>e.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 bg-white/5 border border-white/5 rounded-xl",children:[e.jsx(O,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-amber-400"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-xs font-black text-white uppercase tracking-wide",children:s.name}),s.notes&&e.jsx("div",{className:"text-sm text-gray-300 mt-1 leading-relaxed",dangerouslySetInnerHTML:ie(s.notes)})]})]},c))})]},t.title))})]})]}),!h&&!p&&e.jsx("div",{className:"-mb-1",children:e.jsx(S,{})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full",children:[e.jsxs("button",{onClick:()=>i("sight_rec"),className:`${b} ${l.sight_rec?y:j}`,children:[e.jsx(X,{size:18,style:{color:l.sight_rec?w("sight_rec"):"#9ca3af"}}),e.jsx("span",{children:"Landmarks"})]}),e.jsxs("button",{onClick:()=>{i("food_rec"),i("bar_rec")},className:`${b} ${l.food_rec||l.bar_rec?y:j}`,children:[e.jsx(oe,{size:18,style:{color:l.food_rec||l.bar_rec?w("food_rec"):"#9ca3af"}}),e.jsx("span",{children:"Food & Drink"})]}),e.jsxs("button",{onClick:()=>i("shopping"),className:`${b} ${l.shopping?y:j}`,children:[e.jsx(re,{size:18,style:{color:l.shopping?w("shopping"):"#9ca3af"}}),e.jsx("span",{children:"Shopping"})]}),e.jsxs("button",{onClick:()=>g(!p),className:`${b} ${p?"bg-amber-500/25 border-amber-500/50 text-amber-100 shadow-[0_0_15px_rgba(245,158,11,0.35)]":P}`,children:[e.jsx(O,{size:18}),e.jsx("span",{children:"Tips"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full relative",children:[e.jsxs("button",{onClick:t=>{t.stopPropagation(),x(!h)},className:`${b} ${n||a?"":"bg-black/70 border-white/60 text-white"} justify-between px-5 transition-all duration-300`,style:n||a?{backgroundColor:`${r}26`,borderColor:r,color:r,boxShadow:`0 0 12px ${r}59`}:{},children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx(H,{size:18,style:{color:n||a?r:"white"}}),e.jsx("span",{className:"truncate text-sm",children:V()})]}),e.jsx(Z,{size:16,className:`shrink-0 transition-transform duration-300 ${h?"rotate-180":""}`})]}),e.jsxs("button",{onClick:t=>{t.stopPropagation(),T()},className:`${b} px-5`,style:{backgroundColor:`${r}26`,borderColor:r,color:r,boxShadow:`0 0 12px ${r}59`},children:[C?e.jsx(se,{size:18}):e.jsx(ee,{size:18}),e.jsx("span",{className:"text-sm",children:C?"Close":"Itinerary"})]})]})]})};export{ce as Controls};
