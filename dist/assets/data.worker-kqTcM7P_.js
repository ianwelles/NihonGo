(function(){"use strict";function Te(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var ne={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Ce=ne.exports,pe;function Ie(){return pe||(pe=1,(function(E,v){((A,s)=>{E.exports=s()})(Ce,function A(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},w,r=!s.document&&!!s.postMessage,M=s.IS_PAPA_WORKER||!1,L={},V=0,h={};function Y(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var i=de(t);i.chunkSize=parseInt(i.chunkSize),t.step||t.chunk||(i.chunkSize=null),this._handle=new be(i),(this._handle.streamer=this)._config=i}).call(this,e),this.parseChunk=function(t,i){var o=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<o){let p=this._config.newline;p||(a=this._config.quoteChar||'"',p=this._handle.guessLineEndings(t,a)),t=[...t.split(p).slice(o)].join(p)}this.isFirstChunk&&S(this._config.beforeFirstChunk)&&(a=this._config.beforeFirstChunk(t))!==void 0&&(t=a),this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t,a=(this._partialLine="",this._handle.parse(o,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=a.meta.cursor,o=(this._finished||(this._partialLine=o.substring(t-this._baseIndex),this._baseIndex=t),a&&a.data&&(this._rowCount+=a.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),M)s.postMessage({results:a,workerId:h.WORKER_ID,finished:o});else if(S(this._config.chunk)&&!i){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!o||!S(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),o||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){S(this._config.error)?this._config.error(t):M&&this._config.error&&s.postMessage({workerId:h.WORKER_ID,error:t,finished:!1})}}function re(e){var t;(e=e||{}).chunkSize||(e.chunkSize=h.RemoteChunkSize),Y.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(i){this._input=i,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=Q(this._chunkLoaded,this),t.onerror=Q(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var i,o=this._config.downloadRequestHeaders;for(i in o)t.setRequestHeader(i,o[i])}var a;this._config.chunkSize&&(a=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+a));try{t.send(this._config.downloadRequestBody)}catch(p){this._chunkError(p.message)}r&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(i=>(i=i.getResponseHeader("Content-Range"))!==null?parseInt(i.substring(i.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(i){i=t.statusText||i,this._sendError(new Error(i))}}function he(e){(e=e||{}).chunkSize||(e.chunkSize=h.LocalChunkSize),Y.call(this,e);var t,i,o=typeof FileReader<"u";this.stream=function(a){this._input=a,i=a.slice||a.webkitSlice||a.mozSlice,o?((t=new FileReader).onload=Q(this._chunkLoaded,this),t.onerror=Q(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input,p=(this._config.chunkSize&&(p=Math.min(this._start+this._config.chunkSize,this._input.size),a=i.call(a,this._start,p)),t.readAsText(a,this._config.encoding));o||this._chunkLoaded({target:{result:p}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(t.error)}}function te(e){var t;Y.call(this,e=e||{}),this.stream=function(i){return t=i,this._nextChunk()},this._nextChunk=function(){var i,o;if(!this._finished)return i=this._config.chunkSize,t=i?(o=t.substring(0,i),t.substring(i)):(o=t,""),this._finished=!t,this.parseChunk(o)}}function le(e){Y.call(this,e=e||{});var t=[],i=!0,o=!1;this.pause=function(){Y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){o&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=Q(function(a){try{t.push(typeof a=="string"?a:a.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(p){this._streamError(p)}},this),this._streamError=Q(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=Q(function(){this._streamCleanUp(),o=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function be(e){var t,i,o,a,p=Math.pow(2,53),O=-p,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,m=this,T=0,l=0,P=!1,d=!1,g=[],n={data:[],errors:[],meta:{}};function R(y){return e.skipEmptyLines==="greedy"?y.join("").trim()==="":y.length===1&&y[0].length===0}function F(){if(n&&o&&(z("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),o=!1),e.skipEmptyLines&&(n.data=n.data.filter(function(c){return!R(c)})),x()){let c=function(I,D){S(e.transformHeader)&&(I=e.transformHeader(I,D)),g.push(I)};if(n)if(Array.isArray(n.data[0])){for(var y=0;x()&&y<n.data.length;y++)n.data[y].forEach(c);n.data.splice(0,1)}else n.data.forEach(c)}function f(c,I){for(var D=e.header?{}:[],b=0;b<c.length;b++){var _=b,k=c[b],k=((U,u)=>(j=>(e.dynamicTypingFunction&&e.dynamicTyping[j]===void 0&&(e.dynamicTyping[j]=e.dynamicTypingFunction(j)),(e.dynamicTyping[j]||e.dynamicTyping)===!0))(U)?u==="true"||u==="TRUE"||u!=="false"&&u!=="FALSE"&&((j=>{if(B.test(j)&&(j=parseFloat(j),O<j&&j<p))return 1})(u)?parseFloat(u):G.test(u)?new Date(u):u===""?null:u):u)(_=e.header?b>=g.length?"__parsed_extra":g[b]:_,k=e.transform?e.transform(k,_):k);_==="__parsed_extra"?(D[_]=D[_]||[],D[_].push(k)):D[_]=k}return e.header&&(b>g.length?z("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+b,l+I):b<g.length&&z("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+b,l+I)),D}var C;n&&(e.header||e.dynamicTyping||e.transform)&&(C=1,!n.data.length||Array.isArray(n.data[0])?(n.data=n.data.map(f),C=n.data.length):n.data=f(n.data,0),e.header&&n.meta&&(n.meta.fields=g),l+=C)}function x(){return e.header&&g.length===0}function z(y,f,C,c){y={type:y,code:f,message:C},c!==void 0&&(y.row=c),n.errors.push(y)}S(e.step)&&(a=e.step,e.step=function(y){n=y,x()?F():(F(),n.data.length!==0&&(T+=y.data.length,e.preview&&T>e.preview?i.abort():(n.data=n.data[0],a(n,m))))}),this.parse=function(y,f,C){var c=e.quoteChar||'"',c=(e.newline||(e.newline=this.guessLineEndings(y,c)),o=!1,e.delimiter?S(e.delimiter)&&(e.delimiter=e.delimiter(y),n.meta.delimiter=e.delimiter):((c=((I,D,b,_,k)=>{var U,u,j,$;k=k||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var X=0;X<k.length;X++){for(var W,ae=k[X],H=0,q=0,K=0,N=(j=void 0,new ce({comments:_,delimiter:ae,newline:D,preview:10}).parse(I)),Z=0;Z<N.data.length;Z++)b&&R(N.data[Z])?K++:(W=N.data[Z].length,q+=W,j===void 0?j=W:0<W&&(H+=Math.abs(W-j),j=W));0<N.data.length&&(q/=N.data.length-K),(u===void 0||H<=u)&&($===void 0||$<q)&&1.99<q&&(u=H,U=ae,$=q)}return{successful:!!(e.delimiter=U),bestDelimiter:U}})(y,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=c.bestDelimiter:(o=!0,e.delimiter=h.DefaultDelimiter),n.meta.delimiter=e.delimiter),de(e));return e.preview&&e.header&&c.preview++,t=y,i=new ce(c),n=i.parse(t,f,C),F(),P?{meta:{paused:!0}}:n||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,i.abort(),t=S(e.chunk)?"":t.substring(i.getCharIndex())},this.resume=function(){m.streamer._halted?(P=!1,m.streamer.parseChunk(t,!0)):setTimeout(m.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,i.abort(),n.meta.aborted=!0,S(e.complete)&&e.complete(n),t=""},this.guessLineEndings=function(I,c){I=I.substring(0,1048576);var c=new RegExp(ie(c)+"([^]*?)"+ie(c),"gm"),C=(I=I.replace(c,"")).split("\r"),c=I.split(`
`),I=1<c.length&&c[0].length<C[0].length;if(C.length===1||I)return`
`;for(var D=0,b=0;b<C.length;b++)C[b][0]===`
`&&D++;return D>=C.length/2?`\r
`:"\r"}}function ie(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ce(e){var t=(e=e||{}).delimiter,i=e.newline,o=e.comments,a=e.step,p=e.preview,O=e.fastMode,B=null,G=!1,m=e.quoteChar==null?'"':e.quoteChar,T=m;if(e.escapeChar!==void 0&&(T=e.escapeChar),(typeof t!="string"||-1<h.BAD_DELIMITERS.indexOf(t))&&(t=","),o===t)throw new Error("Comment character same as delimiter");o===!0?o="#":(typeof o!="string"||-1<h.BAD_DELIMITERS.indexOf(o))&&(o=!1),i!==`
`&&i!=="\r"&&i!==`\r
`&&(i=`
`);var l=0,P=!1;this.parse=function(d,g,n){if(typeof d!="string")throw new Error("Input must be a string");var R=d.length,F=t.length,x=i.length,z=o.length,y=S(a),f=[],C=[],c=[],I=l=0;if(!d)return H();if(O||O!==!1&&d.indexOf(m)===-1){for(var D=d.split(i),b=0;b<D.length;b++){if(c=D[b],l+=c.length,b!==D.length-1)l+=i.length;else if(n)return H();if(!o||c.substring(0,z)!==o){if(y){if(f=[],$(c.split(t)),q(),P)return H()}else $(c.split(t));if(p&&p<=b)return f=f.slice(0,p),H(!0)}}return H()}for(var _=d.indexOf(t,l),k=d.indexOf(i,l),U=new RegExp(ie(T)+ie(m),"g"),u=d.indexOf(m,l);;)if(d[l]===m)for(u=l,l++;;){if((u=d.indexOf(m,u+1))===-1)return n||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:f.length,index:l}),W();if(u===R-1)return W(d.substring(l,u).replace(U,m));if(m===T&&d[u+1]===T)u++;else if(m===T||u===0||d[u-1]!==T){_!==-1&&_<u+1&&(_=d.indexOf(t,u+1));var j=X((k=k!==-1&&k<u+1?d.indexOf(i,u+1):k)===-1?_:Math.min(_,k));if(d.substr(u+1+j,F)===t){c.push(d.substring(l,u).replace(U,m)),d[l=u+1+j+F]!==m&&(u=d.indexOf(m,l)),_=d.indexOf(t,l),k=d.indexOf(i,l);break}if(j=X(k),d.substring(u+1+j,u+1+j+x)===i){if(c.push(d.substring(l,u).replace(U,m)),ae(u+1+j+x),_=d.indexOf(t,l),u=d.indexOf(m,l),y&&(q(),P))return H();if(p&&f.length>=p)return H(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:f.length,index:l}),u++}}else if(o&&c.length===0&&d.substring(l,l+z)===o){if(k===-1)return H();l=k+x,k=d.indexOf(i,l),_=d.indexOf(t,l)}else if(_!==-1&&(_<k||k===-1))c.push(d.substring(l,_)),l=_+F,_=d.indexOf(t,l);else{if(k===-1)break;if(c.push(d.substring(l,k)),ae(k+x),y&&(q(),P))return H();if(p&&f.length>=p)return H(!0)}return W();function $(K){f.push(K),I=l}function X(K){var N=0;return N=K!==-1&&(K=d.substring(u+1,K))&&K.trim()===""?K.length:N}function W(K){return n||(K===void 0&&(K=d.substring(l)),c.push(K),l=R,$(c),y&&q()),H()}function ae(K){l=K,$(c),c=[],k=d.indexOf(i,l)}function H(K){if(e.header&&!g&&f.length&&!G){var N=f[0],Z=Object.create(null),ue=new Set(N);let ve=!1;for(let ee=0;ee<N.length;ee++){let J=N[ee];if(Z[J=S(e.transformHeader)?e.transformHeader(J,ee):J]){let oe,je=Z[J];for(;oe=J+"_"+je,je++,ue.has(oe););ue.add(oe),N[ee]=oe,Z[J]++,ve=!0,(B=B===null?{}:B)[oe]=J}else Z[J]=1,N[ee]=J;ue.add(J)}ve&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:f,errors:C,meta:{delimiter:t,linebreak:i,aborted:P,truncated:!!K,cursor:I+(g||0),renamedHeaders:B}}}function q(){a(H()),f=[],C=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return l}}function Le(e){var t=e.data,i=L[t.workerId],o=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){o=!0,Se(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_e,resume:_e};if(S(i.userStep)){for(var p=0;p<t.results.data.length&&(i.userStep({data:t.results.data[p],errors:t.results.errors,meta:t.results.meta},a),!o);p++);delete t.results}else S(i.userChunk)&&(i.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!o&&Se(t.workerId,t.results)}function Se(e,t){var i=L[e];S(i.userComplete)&&i.userComplete(t),i.terminate(),delete L[e]}function _e(){throw new Error("Not implemented.")}function de(e){if(typeof e!="object"||e===null)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=de(e[t]);return i}function Q(e,t){return function(){e.apply(t,arguments)}}function S(e){return typeof e=="function"}return h.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;if(S(i)&&(t.dynamicTypingFunction=i,i={}),t.dynamicTyping=i,t.transform=!!S(t.transform)&&t.transform,!t.worker||!h.WORKERS_SUPPORTED)return i=null,h.NODE_STREAM_INPUT,typeof e=="string"?(e=(o=>o.charCodeAt(0)!==65279?o:o.slice(1))(e),i=new(t.download?re:te)(t)):e.readable===!0&&S(e.read)&&S(e.on)?i=new le(t):(s.File&&e instanceof File||e instanceof Object)&&(i=new he(t)),i.stream(e);(i=(()=>{var o;return!!h.WORKERS_SUPPORTED&&(o=(()=>{var a=s.URL||s.webkitURL||null,p=A.toString();return h.BLOB_URL||(h.BLOB_URL=a.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",p,")();"],{type:"text/javascript"})))})(),(o=new s.Worker(o)).onmessage=Le,o.id=V++,L[o.id]=o)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=S(t.step),t.chunk=S(t.chunk),t.complete=S(t.complete),t.error=S(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},h.unparse=function(e,t){var i=!1,o=!0,a=",",p=`\r
`,O='"',B=O+O,G=!1,m=null,T=!1,l=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||h.BAD_DELIMITERS.filter(function(g){return t.delimiter.indexOf(g)!==-1}).length||(a=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(i=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(G=t.skipEmptyLines),typeof t.newline=="string"&&(p=t.newline),typeof t.quoteChar=="string"&&(O=t.quoteChar),typeof t.header=="boolean"&&(o=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");m=t.columns}t.escapeChar!==void 0&&(B=t.escapeChar+O),t.escapeFormulae instanceof RegExp?T=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(T=/^[=+\-@\t\r].*$/)}})(),new RegExp(ie(O),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return P(null,e,G);if(typeof e[0]=="object")return P(m||Object.keys(e[0]),e,G)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||m),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),P(e.fields||[],e.data||[],G);throw new Error("Unable to serialize unrecognized input");function P(g,n,R){var F="",x=(typeof g=="string"&&(g=JSON.parse(g)),typeof n=="string"&&(n=JSON.parse(n)),Array.isArray(g)&&0<g.length),z=!Array.isArray(n[0]);if(x&&o){for(var y=0;y<g.length;y++)0<y&&(F+=a),F+=d(g[y],y);0<n.length&&(F+=p)}for(var f=0;f<n.length;f++){var C=(x?g:n[f]).length,c=!1,I=x?Object.keys(n[f]).length===0:n[f].length===0;if(R&&!x&&(c=R==="greedy"?n[f].join("").trim()==="":n[f].length===1&&n[f][0].length===0),R==="greedy"&&x){for(var D=[],b=0;b<C;b++){var _=z?g[b]:b;D.push(n[f][_])}c=D.join("").trim()===""}if(!c){for(var k=0;k<C;k++){0<k&&!I&&(F+=a);var U=x&&z?g[k]:k;F+=d(n[f][U],k)}f<n.length-1&&(!R||0<C&&!I)&&(F+=p)}}return F}function d(g,n){var R,F;return g==null?"":g.constructor===Date?JSON.stringify(g).slice(1,25):(F=!1,T&&typeof g=="string"&&T.test(g)&&(g="'"+g,F=!0),R=g.toString().replace(l,B),(F=F||i===!0||typeof i=="function"&&i(g,n)||Array.isArray(i)&&i[n]||((x,z)=>{for(var y=0;y<z.length;y++)if(-1<x.indexOf(z[y]))return!0;return!1})(R,h.BAD_DELIMITERS)||-1<R.indexOf(a)||R.charAt(0)===" "||R.charAt(R.length-1)===" ")?O+R+O:R)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!r&&!!s.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=ce,h.ParserHandle=be,h.NetworkStreamer=re,h.FileStreamer=he,h.StringStreamer=te,h.ReadableStreamStreamer=le,s.jQuery&&((w=s.jQuery).fn.parse=function(e){var t=e.config||{},i=[];return this.each(function(p){if(!(w(this).prop("tagName").toUpperCase()==="INPUT"&&w(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var O=0;O<this.files.length;O++)i.push({file:this.files[O],inputElem:this,instanceConfig:w.extend({},t)})}),o(),this;function o(){if(i.length===0)S(e.complete)&&e.complete();else{var p,O,B,G,m=i[0];if(S(e.before)){var T=e.before(m.file,m.inputElem);if(typeof T=="object"){if(T.action==="abort")return p="AbortError",O=m.file,B=m.inputElem,G=T.reason,void(S(e.error)&&e.error({name:p},O,B,G));if(T.action==="skip")return void a();typeof T.config=="object"&&(m.instanceConfig=w.extend(m.instanceConfig,T.config))}else if(T==="skip")return void a()}var l=m.instanceConfig.complete;m.instanceConfig.complete=function(P){S(l)&&l(P,m.file,m.inputElem),a()},h.parse(m.file,m.instanceConfig)}}function a(){i.splice(0,1),o()}}),M&&(s.onmessage=function(e){e=e.data,h.WORKER_ID===void 0&&e&&(h.WORKER_ID=e.workerId),typeof e.input=="string"?s.postMessage({workerId:h.WORKER_ID,results:h.parse(e.input,e.config),finished:!0}):(s.File&&e.input instanceof File||e.input instanceof Object)&&(e=h.parse(e.input,e.config))&&s.postMessage({workerId:h.WORKER_ID,results:e,finished:!0})}),(re.prototype=Object.create(Y.prototype)).constructor=re,(he.prototype=Object.create(Y.prototype)).constructor=he,(te.prototype=Object.create(te.prototype)).constructor=te,(le.prototype=Object.create(Y.prototype)).constructor=le,h})})(ne)),ne.exports}var Ae=Ie(),Fe=Te(Ae);const Oe={"hilton-tokyo":{id:"hilton-tokyo",name:"Hilton Tokyo",type:"hotel",city:"Tokyo",coordinates:{lat:35.6925,lon:139.6921},description:"Top Pick Hotel - 6-6-2 Nishi-Shinjuku.",url:"https://www.hilton.com/en/hotels/tyohitw-hilton-tokyo/",tags:["City Views","Executive Lounge"],hotelMeta:{address:"6-6-2 Nishi-Shinjuku, Shinjuku-ku, Tokyo 160-0023, Japan",directions:"https://www.google.com/maps/dir/?api=1&destination=35.6925,139.6921&travelmode=transit",neighborhoodInsights:"Nishi-Shinjuku is Tokyo's premier skyscraper district. It offers a sophisticated, professional atmosphere a short walk from the neon-lit 'Golden Gai'.",tags:["City Views","Executive Lounge"]}},"haneda-airport":{id:"haneda-airport",name:"Haneda Airport",type:"travel",city:"Tokyo",coordinates:{lat:35.5494,lon:139.7798},description:"Arrival Airport (10:25 AM)",url:"https://tokyo-haneda.com/en/",tags:["Gateway Hub","Efficient"]},"shinjuku-station":{id:"shinjuku-station",name:"Shinjuku Station",type:"travel",city:"Tokyo",coordinates:{lat:35.6896,lon:139.7006},description:"Main Transport Hub",url:"https://www.gotokyo.org/en/destinations/western-tokyo/shinjuku/index.html",tags:["Bustling Hub","Connected"]},"shinjuku-gyoen":{id:"shinjuku-gyoen",name:"Shinjuku Gyoen",type:"sight",city:"Tokyo",coordinates:{lat:35.6852,lon:139.7101},description:"Serene garden with greenhouse",url:"https://www.env.go.jp/garden/shinjukugyoen/english/index.html",tags:["Urban Oasis","Greenhouse"]},"senso-ji":{id:"senso-ji",name:"Senso-ji",type:"sight",city:"Tokyo",coordinates:{lat:35.7148,lon:139.7967},description:"Tokyo's oldest temple (Asakusa)",url:"https://www.senso-ji.jp/english/",tags:["Historic Temple","Asakusa Vibe"]},"imperial-palace-east":{id:"imperial-palace-east",name:"Imperial Palace East Gardens",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6852,lon:139.7528},description:"Historic castle grounds",url:"https://www.kunaicho.go.jp/e-event/higashigyoen02.html",tags:["Castle Ruins","Serene Walk"]},"shinjuku-nichome":{id:"shinjuku-nichome",name:"Shinjuku Ni-chome",type:"sight",city:"Tokyo",coordinates:{lat:35.6905,lon:139.7066},description:"Tokyo's Gay District",url:"https://www.timeout.com/tokyo/lgbtq/shinjuku-nichome-guide",tags:["Gay District","Micro-Bars"]},"shibuya-crossing":{id:"shibuya-crossing",name:"Shibuya Crossing",type:"sight",city:"Tokyo",coordinates:{lat:35.6595,lon:139.7004},description:"Iconic Scramble Crossing",url:"https://www.japan-guide.com/e/e3007.html",tags:["Iconic Scramble","Chaotic Energy"]},"tokyo-metro-gov":{id:"tokyo-metro-gov",name:"Tokyo Metro Gov Building",type:"sight",city:"Tokyo",coordinates:{lat:35.6896,lon:139.6921},description:"Free Panoramic Views",url:"https://www.yokoso.metro.tokyo.lg.jp/en/tenbou/",tags:["Free Views","Panoramic"]},torikizoku:{id:"torikizoku",name:"Torikizoku",type:"food",city:"Tokyo",coordinates:{lat:35.6938,lon:139.7016},description:"Casual Yakitori (All items same price)",url:"https://www.torikizoku.co.jp/en/",tags:["Cheap Yakitori","Izakaya Chain"]},"omoide-yokocho":{id:"omoide-yokocho",name:"Omoide Yokocho",type:"food_rec",city:"Tokyo",coordinates:{lat:35.6929,lon:139.6995},description:"Atmospheric Memory Lane (Yakitori)",url:"https://en.shinjuku-omoide.com/",tags:["Nostalgic Alley","Yakitori"]},"tsukiji-market":{id:"tsukiji-market",name:"Tsukiji Outer Market",type:"food",city:"Tokyo",coordinates:{lat:35.6655,lon:139.7704},description:"Fresh Seafood Breakfast/Lunch",url:"https://www.tsukiji.or.jp/english/",tags:["Fresh Seafood","Street Food"]},"konjiki-hototogisu":{id:"konjiki-hototogisu",name:"Konjiki Hototogisu",type:"food_rec",city:"Tokyo",coordinates:{lat:35.6897,lon:139.7047},description:"Michelin Star Ramen (Clam Broth)",url:"https://konjikihototogisu.com/",tags:["Michelin Ramen","Clam Broth"]},"ramen-nagi":{id:"ramen-nagi",name:"Ramen Nagi (Golden Gai)",type:"food_rec",city:"Tokyo",coordinates:{lat:35.6943,lon:139.7046},description:"Famous Niboshi (Sardine) Ramen",url:"http://www.n-nagi.com/english/",tags:["Niboshi Ramen","Golden Gai"]},fuunji:{id:"fuunji",name:"Fuunji",type:"food",city:"Tokyo",coordinates:{lat:35.6872,lon:139.6967},description:"Legendary Tsukemen (Dipping Noodles)",url:"https://www.fu-unji.com/",tags:["Dipping Noodles","Tsukemen"]},"ichiran-shinjuku":{id:"ichiran-shinjuku",name:"Ichiran Shinjuku",type:"suggestion",city:"Tokyo",coordinates:{lat:35.6909,lon:139.7032},description:"The ultimate solo dining experience. Customize your Tonkotsu ramen.",url:"https://en.ichiran.com/shop/tokyo/shinjuku-chuo-higashiguchi/",tags:["Tonkotsu Ramen","Solo Booths"]},"sushi-kunimitsu":{id:"sushi-kunimitsu",name:"Sushi Kunimitsu",type:"food",city:"Tokyo",coordinates:{lat:35.7061,lon:139.6839},description:"Kunimitsu is highly rated (4.7â˜…) for its Omakase course. Booking essential.",url:"https://www.instagram.com/sushi_kunimitsu/",tags:["Omakase","Intimate"]},"osushiya-taiki":{id:"osushiya-taiki",name:"Osushiya Taiki",type:"food_rec",city:"Tokyo",coordinates:{lat:35.7135,lon:139.704},description:"Intimate counter sushi in Takadanobaba.",url:"https://tabelog.com/en/tokyo/A1305/A130503/13247065/",tags:["Sushi","Counter Seating"]},"ginza-district":{id:"ginza-district",name:"Ginza District",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6712,lon:139.7665},description:"Symbol of luxury and modernity.",url:"https://www.japan-guide.com/e/e3005.html",tags:["Luxury Shopping","Upscale Dining"]},"tokyo-tower":{id:"tokyo-tower",name:"Tokyo Tower",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6586,lon:139.7454},description:"Iconic red tower with city views.",url:"https://www.tokyotower.co.jp/en/",tags:["Iconic Landmark","Red Tower"]},"zojo-ji":{id:"zojo-ji",name:"Zojo-ji Temple",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6574,lon:139.7482},description:"Where modernity meets tradition.",url:"https://www.zojoji.or.jp/en/",tags:["Historic Temple","Tower Views"]},"meiji-shrine":{id:"meiji-shrine",name:"Meiji Shrine",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6764,lon:139.6993},description:"Serene Shinto shrine in a dense forest.",url:"https://www.meijijingu.or.jp/en/",tags:["Shinto Shrine","Forested"]},kabukicho:{id:"kabukicho",name:"Kabukicho",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6938,lon:139.7035},description:"The famous 'red light' and nightlife district.",url:"https://www.gotokyo.org/en/destinations/western-tokyo/shinjuku/index.html",tags:["Red Light District","Neon Lights"]},omotesando:{id:"omotesando",name:"Omotesando",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6652,lon:139.7125},description:"Tree-lined fashion and architecture avenue.",url:"https://www.japan-guide.com/e/e3006.html",tags:["Architecture","Luxury Fashion"]},"takeshita-street":{id:"takeshita-street",name:"Takeshita Street",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6715,lon:139.7031},description:"Harajuku youth culture and urban tribes.",url:"https://www.japan-guide.com/e/e3006.html",tags:["Harajuku Fashion","Crepes"]},"hachiko-statue":{id:"hachiko-statue",name:"Hachiko Statue",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6591,lon:139.7006},description:"Legendary loyal dog statue in Shibuya.",url:"https://www.japan-guide.com/e/e3007.html",tags:["Loyal Dog","Meeting Spot"]},"akihabara-electric":{id:"akihabara-electric",name:"Akihabara Electric Town",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6997,lon:139.7713},description:"Neons, anime, manga, and video games.",url:"https://www.japan-guide.com/e/e3003.html",tags:["Anime Culture","Electronics"]},hamarikyu:{id:"hamarikyu",name:"Hamarikyu Gardens",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6601,lon:139.763},description:"Quiet garden right next to Tsukiji Outer Market.",url:"https://www.tokyo-park.or.jp/teien/en/hama-rikyu/",tags:["Seaside Garden","Teahouse"]},"yamato-sushi":{id:"yamato-sushi",name:"Yamato Sushi",type:"food_rec",city:"Tokyo",coordinates:{lat:35.6465,lon:139.7879},description:"Fresh sushi (Toyosu Market location). Tsukiji Fresh Sushi Breakfast",url:"https://www.sushiyamato-toyosu.com/",tags:["Tsukiji Fresh","Sushi Breakfast"]},"hakushu-teppanyaki":{id:"hakushu-teppanyaki",name:"Hakushu Teppanyaki",type:"food_rec",city:"Tokyo",coordinates:{lat:35.6558,lon:139.7015},description:"High-end Teppanyaki for authentic Kobe beef in Shibuya.",url:"https://teppanyaki-hakushu.com/",tags:["Kobe Beef","Teppanyaki"]},"niagara-curry":{id:"niagara-curry",name:"NiÃ¡gara Curry",type:"food_rec",city:"Tokyo",coordinates:{lat:35.6375,lon:139.6917},description:"Train-themed curry restaurant in Yutenji.",url:"https://www.niagara-curry.com/",tags:["Train Theme","Curry Rice"]},"ginza-shopping":{id:"ginza-shopping",name:"Ginza Shopping Area",type:"shopping",city:"Tokyo",coordinates:{lat:35.6712,lon:139.7651},description:"Luxury boutiques and department stores.",url:"https://www.japan-guide.com/e/e3005.html",tags:["High-End Retail","Pedestrian Paradise"]},"akihabara-shopping":{id:"akihabara-shopping",name:"Akihabara Shopping",type:"shopping",city:"Tokyo",coordinates:{lat:35.6984,lon:139.7731},description:"Best for electronics and anime merchandise.",url:"https://www.japan-guide.com/e/e3003.html",tags:["Otaku Goods","Gadgets"]},"gion-district":{id:"gion-district",name:"Gion District",type:"sight",city:"Kyoto",coordinates:{lat:35.0037,lon:135.7785},description:"Historic Geisha District",url:"https://www.japan-guide.com/e/e3902.html",tags:["Geisha District","Traditional"]},"fushimi-inari":{id:"fushimi-inari",name:"Fushimi Inari Taisha",type:"sight",city:"Kyoto",coordinates:{lat:34.9671,lon:135.7727},description:"1,000 Red Torii Gates",url:"http://inari.jp/en/",tags:["Torii Gates","Mountain Hike"]},"kiyomizu-dera":{id:"kiyomizu-dera",name:"Kiyomizu-dera",type:"sight",city:"Kyoto",coordinates:{lat:34.9949,lon:135.785},description:"Iconic Wooden Temple",url:"https://www.kiyomizudera.or.jp/en/",tags:["Wooden Stage","Hillside Views"]},arashiyama:{id:"arashiyama",name:"Arashiyama Bamboo Grove",type:"sight",city:"Kyoto",coordinates:{lat:35.0094,lon:135.6668},description:"Famous Bamboo Forest",url:"https://www.japan-guide.com/e/e3912.html",tags:["Bamboo Forest","Photo Spot"]},"nishiki-market":{id:"nishiki-market",name:"Nishiki Market",type:"food",city:"Kyoto",coordinates:{lat:35.005,lon:135.7649},description:"Kyoto's Kitchen (Street Food)",url:"https://www.kyoto-nishiki.or.jp/",tags:["Kitchen of Kyoto","Food Stalls"]},"honke-daiichi":{id:"honke-daiichi",name:"Honke Daiichi-Asahi",type:"food",city:"Kyoto",coordinates:{lat:34.9856,lon:135.7602},description:"Classic Kyoto Soy Ramen",url:"https://www.honke-daiichiasahi.com/",tags:["Kyoto Ramen","Soy Broth"]},"menbaka-fire":{id:"menbaka-fire",name:"Menbaka Fire Ramen",type:"suggestion",city:"Kyoto",coordinates:{lat:35.0211,lon:135.746},description:"A literal explosive dining experience!",url:"https://www.instagram.com/menbaka_fire_ramen",tags:["Fire Performance","Negi Ramen"]},"kyoto-imperial":{id:"kyoto-imperial",name:"Kyoto Imperial Palace",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0254,lon:135.7621},description:"Historic palace grounds.",url:"https://sankan.kunaicho.go.jp/english/index.html",tags:["Imperial History","Spacious Park"]},higashiyama:{id:"higashiyama",name:"Higashiyama District",type:"sight_rec",city:"Kyoto",coordinates:{lat:34.9949,lon:135.785},description:"Historic preserved district.",url:"https://www.japan-guide.com/e/e3959.html",tags:["Preserved Streets","Old Kyoto"]},ninenzaka:{id:"ninenzaka",name:"Ninenzaka & Sannenzaka",type:"sight_rec",city:"Kyoto",coordinates:{lat:34.9968,lon:135.782},description:"Charming traditional sloping streets.",url:"https://www.japan-guide.com/e/e3959.html",tags:["Traditional Slopes","Souvenirs"]},"yasaka-pagoda":{id:"yasaka-pagoda",name:"Yasaka Pagoda (Hokan-ji)",type:"sight_rec",city:"Kyoto",coordinates:{lat:34.9985,lon:135.7794},description:"Iconic 5-story pagoda view.",url:"https://kyoto.travel/en/shrines_temples/160.html",tags:["Iconic Pagoda","Photo Spot"]},"yasaka-jinja":{id:"yasaka-jinja",name:"Yasaka Jinja",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0037,lon:135.7785},description:"Large complex of temples and gates in Gion.",url:"https://www.yasaka-jinja.or.jp/en/",tags:["Gion Shrine","Lanterns"]},"shirakawa-lane":{id:"shirakawa-lane",name:"Shirakawa Lane",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0055,lon:135.7758},description:"Beautiful canal street, good for Geisha spotting.",url:"https://www.japan-guide.com/e/e3902.html",tags:["Scenic Canal","Willow Trees"]},"nijo-castle":{id:"nijo-castle",name:"Nijo Castle",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0142,lon:135.7482},description:"Shogun residence and gardens.",url:"https://nijo-jocastle.city.kyoto.lg.jp/?lang=en",tags:["Shogun Palace","Nightingale Floors"]},"kinkaku-ji":{id:"kinkaku-ji",name:"Kinkaku-ji",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0394,lon:135.7292},description:"The Golden Pavilion.",url:"https://www.shokoku-ji.jp/en/kinkakuji/",tags:["Golden Pavilion","Zen Garden"]},"philosophers-path":{id:"philosophers-path",name:"Philosopherâ€™s Path",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0268,lon:135.7954},description:"Pleasant canal-side walking path.",url:"https://www.japan-guide.com/e/e3906.html",tags:["Canal Walk","Cherry Blossoms"]},"ginkaku-ji":{id:"ginkaku-ji",name:"Ginkaku-ji",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0267,lon:135.7982},description:"The Silver Pavilion.",url:"https://www.shokoku-ji.jp/en/ginkakuji/",tags:["Silver Pavilion","Sand Garden"]},"hikiniku-to-come":{id:"hikiniku-to-come",name:"Hikiniku to Come",type:"food_rec",city:"Kyoto",coordinates:{lat:34.9965,lon:135.778},description:"Famous charcoal grilled hamburger steaks.",url:"https://hikinikutocome.com/en/",tags:["Hamburger Steak","Charcoal Grilled"]},"restaurante-tomisen":{id:"restaurante-tomisen",name:"Restaurante Tomisen",type:"food_rec",city:"Kyoto",coordinates:{lat:35.004,lon:135.776},description:"Specialises in Sushi.",url:"https://tabelog.com/en/kyoto/A2601/A260301/26002011/",tags:["Family Sushi","Tatami"]},"mouriya-gion":{id:"mouriya-gion",name:"Mouriya Gion",type:"food_rec",city:"Kyoto",coordinates:{lat:35.0045,lon:135.7765},description:"Specialises in Kobe Beef.",url:"https://www.mouriya.co.jp/en/gion",tags:["Kobe Beef","Teppanyaki"]},"botanic-coffee":{id:"botanic-coffee",name:"Botanic Coffee Kyoto",type:"food_rec",city:"Kyoto",coordinates:{lat:35.0012,lon:135.7595},description:"Retro cafÃ© for pancakes and coffee.",url:"https://www.instagram.com/botanic_coffee_kyoto/",tags:["Vintage Cafe","Fluffy Pancakes"]},"starbucks-ninenzaka":{id:"starbucks-ninenzaka",name:"Starbucks Ninenzaka",type:"food_rec",city:"Kyoto",coordinates:{lat:34.9982,lon:135.7825},description:"Inside a traditional house with tatami floors.",url:"https://store.starbucks.co.jp/detail-1484/",tags:["Tatami Seating","Machiya Style"]},"yojiya-main":{id:"yojiya-main",name:"Yojiya Main Store",type:"shopping",city:"Kyoto",coordinates:{lat:35.0094,lon:135.7686},description:"Kyoto-based rice cosmetics brand.",url:"https://www.yojiya.co.jp/english/",tags:["Cosmetics","Cafe"]},"shijo-kawaramachi":{id:"shijo-kawaramachi",name:"Shijo Kawaramachi",type:"shopping",city:"Kyoto",coordinates:{lat:35.0039,lon:135.7684},description:"Kyoto's main shopping district.",url:"https://www.japan-guide.com/e/e3960.html",tags:["Shopping District","Department Stores"]},"hilton-osaka":{id:"hilton-osaka",name:"Hilton Osaka",type:"hotel",city:"Osaka",coordinates:{lat:34.7003,lon:135.4955},description:"Top Pick Hotel - Umeda, Kita-ku.",url:"https://www.hilton.com/en/hotels/osahitw-hilton-osaka/",tags:["Umeda Location","City Views"],hotelMeta:{address:"1-8-8, Umeda, Kita-ku, Osaka 530-0001, Japan",directions:"https://www.google.com/maps/dir/?api=1&destination=34.7003,135.4955&travelmode=transit,Umeda",neighborhoodInsights:"Umeda is Osaka's glittering northern hub. It's a vertical city of giant department stores and high-end dining.",tags:["Umeda Location","City Views"]}},"osaka-castle":{id:"osaka-castle",name:"Osaka Castle",type:"sight",city:"Osaka",coordinates:{lat:34.6873,lon:135.5262},description:"Historic Landmark",url:"https://www.osakacastle.net/english/",tags:["Historic Castle","Park Views"]},dotonbori:{id:"dotonbori",name:"Dotonbori",type:"sight_rec",city:"Osaka",coordinates:{lat:34.6687,lon:135.5013},description:"Food & Neon District",url:"https://osaka-info.jp/en/spot/dotonbori/",tags:["Neon Lights","Street Food"]},shinsekai:{id:"shinsekai",name:"Shinsekai",type:"sight_rec",city:"Osaka",coordinates:{lat:34.652,lon:135.5063},description:"Retro Osaka Vibes",url:"https://osaka-info.jp/en/spot/shinsekai/",tags:["Retro Vibe","Kushikatsu"]},"doyama-cho":{id:"doyama-cho",name:"DÅyama-chÅ",type:"sight",city:"Osaka",coordinates:{lat:34.7036,lon:135.5033},description:"Gay District",url:"https://insideosaka.com/osaka-gay-district/",tags:["Gay District","Nightlife"]},"kushikatsu-daruma":{id:"kushikatsu-daruma",name:"Kushikatsu Daruma",type:"food",city:"Osaka",coordinates:{lat:34.669,lon:135.503},description:"Famous Fried Skewers",url:"https://www.kushikatsu-daruma.com/",tags:["Deep Fried Skewers","No Double Dipping"]},fukutaro:{id:"fukutaro",name:"Fukutaro",type:"food",city:"Osaka",coordinates:{lat:34.6655,lon:135.502},description:"Top Rated Okonomiyaki",url:"https://2951.jp/",tags:["Okonomiyaki","Negiyaki"]},"ajinoya-honten":{id:"ajinoya-honten",name:"Ajinoya Honten",type:"food_rec",city:"Osaka",coordinates:{lat:34.668,lon:135.501},description:"Michelin Bib Gourmand Okonomiyaki",url:"http://www.ajinoya-okonomiyaki.com/top/",tags:["Michelin Bib","Okonomiyaki"]},"den-den-town":{id:"den-den-town",name:"Den Den Town",type:"sight_rec",city:"Osaka",coordinates:{lat:34.6593,lon:135.506},description:"Electronics district (Osaka's Akihabara).",url:"https://osaka-info.jp/en/spot/nipponbashi-den-den-town/",tags:["Anime Goods","Electronics"]},"nishinomaru-garden":{id:"nishinomaru-garden",name:"Nishinomaru Garden",type:"sight_rec",city:"Osaka",coordinates:{lat:34.685,lon:135.5255},description:"Osaka Castle grounds with 600 cherry trees.",url:"https://www.osakacastle.net/english/park/nishinomaru.html",tags:["Castle Views","Cherry Blossoms"]},"glico-man":{id:"glico-man",name:"Glico Man Sign",type:"sight_rec",city:"Osaka",coordinates:{lat:34.6687,lon:135.5013},description:"Iconic photo spot in Dotonbori.",url:"https://osaka-info.jp/en/spot/dotonbori/",tags:["Iconic Photo","Dotonbori"]},"kani-doraku":{id:"kani-doraku",name:"Kani Doraku Dotonbori",type:"food_rec",city:"Osaka",coordinates:{lat:34.6687,lon:135.5013},description:"Famous crab specialist with giant sign.",url:"https://douraku.co.jp/",tags:["Crab Feast","Moving Sign"]},"gems-namba":{id:"gems-namba",name:"GEMS Namba",type:"food_rec",city:"Osaka",coordinates:{lat:34.6644,lon:135.5008},description:"Dining complex specialising in meat.",url:"https://www.gems-portal.com/series/detail.php?id=8",tags:["Dining Complex","Namba"]},"ajinoya-branch":{id:"ajinoya-branch",name:"Ajinoya",type:"food_rec",city:"Osaka",coordinates:{lat:34.668,lon:135.5015},description:"Famous Okonomiyaki (Bib Gourmand).",url:"http://www.ajinoya-okonomiyaki.com/english/",tags:["Okonomiyaki","Fluffy Pancake"]},"don-quijote":{id:"don-quijote",name:"Don Quijote Dotonbori",type:"shopping",city:"Osaka",coordinates:{lat:34.6693,lon:135.5028},description:"For Skincare/Snack Loot Drops (Ferris Wheel).",url:"https://www.donki.com/en/",tags:["Discount Shopping","Ferris Wheel"]},"shinsaibashi-arcade":{id:"shinsaibashi-arcade",name:"Shinsaibashi Shopping Arcade",type:"shopping",city:"Osaka",coordinates:{lat:34.6716,lon:135.5015},description:"Premier covered shopping street.",url:"https://osaka-info.jp/en/spot/shinsaibashi-suji/",tags:["Covered Shopping","Fashion"]},"hilton-shanghai":{id:"hilton-shanghai",name:"Hilton Shanghai City Center",type:"hotel",city:"Shanghai",coordinates:{lat:31.2185,lon:121.4332},description:"Top Pick Hotel - West Yan'an Road.",url:"https://www.hilton.com/en/hotels/shamshi-hilton-shanghai-city-center/",tags:["Central Location","Business"],hotelMeta:{address:"No. 488 West Yan'an Road, Shanghai, 200050, China",directions:"https://www.google.com/maps/dir/?api=1&destination=31.2185,121.4332&travelmode=transit,Located",neighborhoodInsights:"Near the edge of the historic Former French Concession. It provides a more localized and authentic 'Old Shanghai' feel.",tags:["Central Location","Business"]}},"pudong-airport":{id:"pudong-airport",name:"Pudong Airport (PVG)",type:"travel",city:"Shanghai",coordinates:{lat:31.1443,lon:121.8083},description:"Arrival/Departure",url:"https://www.shanghaiairport.com/en/",tags:["International Hub","Far from City"]},"maglev-station":{id:"maglev-station",name:"Maglev Longyang Rd",type:"travel",city:"Shanghai",coordinates:{lat:31.209,lon:121.558},description:"High Speed Train Station",url:"https://www.smtdc.com/en/",tags:["High Speed Train","Airport Link"]},"french-concession":{id:"french-concession",name:"French Concession",type:"sight_rec",city:"Shanghai",coordinates:{lat:31.2155,lon:121.4556},description:"Historic Walking Area",url:"https://www.smartshanghai.com/articles/tourist/the-former-french-concession/",tags:["Tree-lined Streets","European Vibe"]},"yu-garden":{id:"yu-garden",name:"Yu Garden",type:"sight",city:"Shanghai",coordinates:{lat:31.2272,lon:121.4921},description:"Classical Garden",url:"https://www.meet-in-shanghai.net/scenic-spots/yu-garden",tags:["Classical Garden","Old City"]},"the-bund":{id:"the-bund",name:"The Bund",type:"sight",city:"Shanghai",coordinates:{lat:31.2402,lon:121.4905},description:"Iconic Waterfront Skyline",url:"https://www.meet-in-shanghai.net/scenic-spots/the-bund",tags:["Waterfront Views","Colonial Architecture"]},"fu-1039":{id:"fu-1039",name:"Fu 1039",type:"food",city:"Shanghai",coordinates:{lat:31.22,lon:121.43},description:"Birthday Dinner (Classic)",url:"https://guide.michelin.com/en/shanghai-municipality/shanghai/restaurant/fu-1039",tags:["Shanghainese","Heritage Villa"]},"fu-he-hui":{id:"fu-he-hui",name:"Fu He Hui",type:"food_rec",city:"Shanghai",coordinates:{lat:31.221,lon:121.431},description:"Birthday Dinner (Veg Option)",url:"https://guide.michelin.com/en/shanghai-municipality/shanghai/restaurant/fu-he-hui",tags:["Vegetarian Fine Dining","Michelin"]},"old-jesse":{id:"old-jesse",name:"Old Jesse",type:"food",city:"Shanghai",coordinates:{lat:31.205,lon:121.44},description:"Authentic Local Cuisine",url:"https://guide.michelin.com/en/shanghai-municipality/shanghai/restaurant/old-jesse-xuhui",tags:["Authentic Local","Braised Pork"]},"jianguo-328":{id:"jianguo-328",name:"Jianguo 328",type:"food",city:"Shanghai",coordinates:{lat:31.208,lon:121.455},description:"MSG-Free Shanghainese.",url:"https://guide.michelin.com/en/shanghai-municipality/shanghai/restaurant/jianguo-328",tags:["MSG-Free","Homestyle"]},"yangs-dumplings":{id:"yangs-dumplings",name:"Yang's Dumplings",type:"food",city:"Shanghai",coordinates:{lat:31.148,lon:121.81},description:"Famous Sheng Jian Bao chain (PVG Terminal 2).",url:"https://www.smartshanghai.com/venue/2945/yang_s_fry-dumpling",tags:["Sheng Jian Bao","Pan-Fried"]},"hunt-bar":{id:"hunt-bar",name:"HUNT",type:"bar_rec",city:"Shanghai",coordinates:{lat:31.2057,lon:121.4336},description:"Popular Gay Bar/Club (Bear Friendly)",url:"https://www.travelgay.com/venue/hunt-shanghai",tags:["Gay Bar","Social Hub"]},"nara-park":{id:"nara-park",name:"Nara Deer Park",type:"sight_rec",city:"Kyoto",coordinates:{lat:34.685,lon:135.843},description:"Park with free-roaming deer and temples.",url:"https://www.japan-guide.com/e/e4103.html",tags:["Friendly Deer","Temple Grounds"]},"shanghai-tower":{id:"shanghai-tower",name:"Shanghai Tower",type:"sight",city:"Shanghai",coordinates:{lat:31.233,lon:121.505},description:"China's tallest building and world's second-tallest.",url:"https://en.shanghaitower.com/",tags:["Skyline","Views"]},"pudong-airport-int":{id:"pudong-airport-int",name:"Shanghai Pudong Int. Airport",type:"travel",city:"Shanghai",coordinates:{lat:31.1443,lon:121.8083},description:"Main international airport.",url:"https://www.shanghaiairport.com/en/",tags:["Airport","Travel"]},"osaka-station":{id:"osaka-station",name:"Osaka Station",type:"travel",city:"Osaka",coordinates:{lat:34.7025,lon:135.496},description:"Major transport hub in Umeda.",url:"https://www.westjr.co.jp/global/en/",tags:["Transport"]},"kansai-airport":{id:"kansai-airport",name:"Kansai Intl Airport (KIX)",type:"travel",city:"Osaka",coordinates:{lat:34.4325,lon:135.2304},description:"International airport on an artificial island.",url:"https://www.kansai-airport.or.jp/en/",tags:["Airport","Departure"]},"kyoto-station":{id:"kyoto-station",name:"Kyoto Station",type:"travel",city:"Kyoto",coordinates:{lat:34.9858,lon:135.7588},description:"Major transport hub and architectural landmark.",url:"https://www.kyotostation.com/",tags:["Transport","Architecture"]},"ramen-tatsunoya":{id:"ramen-tatsunoya",name:"Ramen Tatsunoya",type:"food_rec",city:"Tokyo",coordinates:{lat:35.6946,lon:139.6993},description:"A popular tonkotsu ramen shop famous for its 'Tsukemen Motsu' (dipping noodles with offal).",url:"http://www.tatsunoya.net/",tags:["Ramen","Tsukemen","Lunch"]},"ishibekoji-muan":{id:"ishibekoji-muan",name:"Ishibekoji Muan",type:"hotel",city:"Kyoto",coordinates:{lat:35.0003,lon:135.7797},description:"Intimate 5-star ryokan with three rooms, blending traditional Japanese aesthetics (tatami, futons) with modern luxury (Dyson, Aesop). Features private hinoki cypress baths.",url:"https://www.ishibekojimuan.com/",tags:["Ryokan","Luxury","Historic","Hinoki Bath"],hotelMeta:{address:"463-10 Shimokawara-cho, Higashiyama-ku, Kyoto 605-0825, Japan",directions:"https://www.google.com/maps/dir/?api=1&destination=35.0003,135.7797&travelmode=transit",neighborhoodInsights:"Located in Southern Higashiyama on Ishibe-koji, Kyoto's most atmospheric stone-paved lane. It is a quiet 'inner sanctum' steps away from Gion, Yasaka Shrine, and Kodai-ji.",tags:["Ryokan","Luxury","Historic","Hinoki Bath"]}},"nanxiang-bun":{id:"nanxiang-bun",name:"Nanxiang Steamed Bun",type:"food",city:"Shanghai",coordinates:{lat:31.2272,lon:121.4921},description:"Famous soup dumplings inside Yu Garden.",url:"https://guide.michelin.com/en/shanghai-municipality/shanghai/restaurant/nanxiang-steamed-bun-city-god-temple",tags:["Old City","Touristy but iconic"]},"teamlab-planets":{id:"teamlab-planets",name:"TeamLab Planets",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6457,lon:139.7892},description:"Immersive digital art museum. Book in advance.",url:"https://planets.teamlab.art/tokyo/",tags:["Art","Interactive","Indoor"]},"shibuya-sky":{id:"shibuya-sky",name:"Shibuya Sky",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6585,lon:139.7023},description:"Open-air observation deck above Shibuya Scramble.",url:"https://www.shibuya-scramble-square.com/sky/",tags:["Views","Rooftop","Sunset"]},"nezu-museum":{id:"nezu-museum",name:"Nezu Museum",type:"sight_rec",city:"Tokyo",coordinates:{lat:35.6622,lon:139.7188},description:"Private art collection with a stunning Japanese garden.",url:"https://www.nezu-muse.or.jp/en/",tags:["Garden","Architecture","Art"]},"pontocho-alley":{id:"pontocho-alley",name:"Pontocho Alley",type:"sight_rec",city:"Kyoto",coordinates:{lat:35.0049,lon:135.7712},description:"Atmospheric narrow alley for evening dining.",url:"https://www.japan-guide.com/e/e3921.html",tags:["Dining","Atmospheric","Night"]},"todai-ji":{id:"todai-ji",name:"Todai-ji Temple",type:"sight",city:"Kyoto",coordinates:{lat:34.689,lon:135.8398},description:"Home of the Great Buddha (Daibutsu).",url:"https://www.todaiji.or.jp/en/",tags:["Great Buddha","Historic","Temple"]},"umeda-sky":{id:"umeda-sky",name:"Umeda Sky Building",type:"sight_rec",city:"Osaka",coordinates:{lat:34.7053,lon:135.4897},description:"Futuristic building with a floating garden observatory.",url:"https://www.skybldg.co.jp/en/",tags:["Architecture","Views","Sunset"]},"kuromon-market":{id:"kuromon-market",name:"Kuromon Market",type:"food_rec",city:"Osaka",coordinates:{lat:34.6653,lon:135.5074},description:"Osaka's Kitchen - fresh seafood and street food.",url:"https://kuromon.com/en/",tags:["Seafood","Street Food","Market"]},"jingan-temple":{id:"jingan-temple",name:"Jing'an Temple",type:"sight_rec",city:"Shanghai",coordinates:{lat:31.223,lon:121.446},description:"Ancient temple surrounded by modern malls.",url:"https://www.meet-in-shanghai.net/scenic-spots/jingan-temple",tags:["Temple","Gold","Architecture"]},tianzifang:{id:"tianzifang",name:"Tianzifang",type:"sight",city:"Shanghai",coordinates:{lat:31.209,lon:121.464},description:"Arts and crafts in Shikumen alleyways.",url:"https://www.meet-in-shanghai.net/scenic-spots/tianzifang",tags:["Shopping","Artsy","Crowded"]},"lollipop-shanghai":{id:"lollipop-shanghai",name:"Lollipop Bar & Lounge",type:"bar",city:"Shanghai",coordinates:{lat:31.2076,lon:121.4422},description:"Sleek, modern cocktail bar with a conversation-oriented layout.",url:"https://www.smartshanghai.com/venue/14749/lollipop",tags:["Cocktails","Modern"]},"rice-bar":{id:"rice-bar",name:"Rice Bar",type:"bar_rec",city:"Shanghai",coordinates:{lat:31.2031,lon:121.4256},description:"Intimate, Japanese-themed lounge with a relaxed atmosphere.",url:"https://www.smartshanghai.com/venue/5856/rice_bar",tags:["Lounge","Friendly"]}},Re=new Date("2025-02-18"),De=new Date("2025-02-28"),Ee=[{dayNumber:1,city:"Tokyo",theme:"Neon Lights & First Bites",date:"Wed 18 Feb",hotelIds:["hilton-tokyo"],activities:[{placeId:"haneda-airport",time:"10:25",label:"Arrival",icon:"ðŸ›¬"},{placeId:"shinjuku-gyoen",time:"Day",label:"Shinjuku & Garden",description:"Transfer to Shinjuku (Hotel Shuttle). Lunch at Sobahouse Konjiki Hototogisu. (Backup: Ramen Tatsunoya). Walk through Shinjuku Gyoen.",tip:"Konjiki Hototogisu holds a Michelin Star. If the queue is too long Tatsunoya is a high-quality nearby alternative.",icon:"ðŸŒ³"},{placeId:"torikizoku",time:"Evening",label:"Dinner",description:"Dinner at Torikizoku (Yakitori) or the atmospheric Omoide Yokocho.",tip:"Torikizoku is a reliable chain where every item is the same priceâ€”great for a low-stress first meal.",icon:"ðŸ¢"}]},{dayNumber:2,city:"Tokyo",theme:"Temples, Tuna & Two-ChÅme",date:"Thu 19 Feb",hotelIds:["hilton-tokyo"],activities:[{placeId:"senso-ji",time:"Morning",label:"Senso-ji Temple",tip:"Try the Ningyo-yaki (doll-shaped sponge cakes) on Nakamise street.",icon:"â›©ï¸"},{placeId:"tsukiji-market",time:"Lunch",label:"Tsukiji & Palace",description:"Lunch at Tsukiji Outer Market (closes 2pm). Then walk it off at Imperial Palace East Gardens.",tip:"At Tsukiji, look for the queues at Sushizanmai for reliable quality.",icon:"ðŸ£"},{placeId:"shinjuku-nichome",time:"Evening",label:"Shinjuku Ni-chÅme",description:"Dinner at Ramen Nagi (Golden Gai). Then explore Shinjuku Ni-chÅme.",tip:"Ramen Nagi is legendary for its intense Niboshi (sardine) broth.",icon:"ðŸ¸"}]},{dayNumber:3,city:"Tokyo",theme:"Scrambles, Skylines & Sushi",date:"Fri 20 Feb",hotelIds:["hilton-tokyo"],activities:[{placeId:"tokyo-metro-gov",time:"Morning",label:"Tokyo Metro Gov. Building",description:"Views from Tokyo Metro Gov. Building (Shinjuku).",tip:"The South Observatory is often less crowded than the North one.",icon:"ðŸ™ï¸"},{placeId:"fuunji",time:"Lunch",label:"Fuunji",description:"Lunch at Fuunji (Shinjuku).",tip:"Known for the best Tsukemen (dipping noodles) in Tokyo. Expect a line, but it moves fast!",icon:"ðŸœ"},{placeId:"shibuya-crossing",time:"Afternoon",label:"Harajuku & Shibuya",description:"Walk Takeshita Street (Harajuku). End at Shibuya Crossing/Shibuya Sky for sunset.",tip:"Shibuya Sky (rooftop) offers the best views of the crossing but requires booking ~2 weeks in advance.",icon:"ðŸ“¸"},{placeId:"sushi-kunimitsu",time:"Dinner",label:"Sushi",description:"Authentic sushi at Sushi Kunimitsu or Osushiya Taiki.",tip:"Kunimitsu is highly rated (4.7â˜…) for its Omakase course. Booking essential.",icon:"ðŸ£"}]},{dayNumber:4,city:"Tokyo",theme:"The Shinkansen Sprint",date:"Sat 21 Feb",hotelIds:["hilton-tokyo"],activities:[{placeId:"shinjuku-station",time:"Morning",label:"Travel to Kyoto",description:"Checkout. Train to Tokyo Station. Shinkansen to Kyoto (2.5 hrs).",tip:"Buy a Bento at Tokyo Station.",icon:"ðŸš…"}]},{dayNumber:4,city:"Kyoto",theme:"Geisha Streets & Kaiseki Eats",date:"Sat 21 Feb",hotelIds:["ishibekoji-muan"],activities:[{placeId:"kyoto-station",time:"Morning",label:"Arrival",description:"Arrive at Kyoto Station. Taxi to Ishibekoji Muan (approx. 20 mins).",tip:"Muan is in a pedestrian-only historic zone; taxi drops you at the entrance of Ishibe-koji lane.",icon:"ðŸ“"},{placeId:"gion-district",time:"Afternoon",label:"Gion District",description:"Explore Gion District and Pontocho Alley.",tip:"Walk from Shijo-dori across the river to Pontocho.",icon:"ðŸµ"},{placeId:"gion-district",time:"Dinner",label:"Kyo-Kaiseki meal",description:"Traditional Kyo-Kaiseki meal in Gion.",tip:"If not booked, wander down Pontocho Alley for atmospheric river-side dining.",icon:"ðŸ±"}]},{dayNumber:5,city:"Kyoto",theme:"Torii Gates & Deer Dates",date:"Sun 22 Feb",hotelIds:["ishibekoji-muan"],activities:[{placeId:"fushimi-inari",time:"Morning",label:"Fushimi Inari Taisha",description:"Visit Fushimi Inari early. Then take JR Nara Line to Nara.",tip:"Arriving by 8:00 AM avoids the massive crowds.",icon:"â›©ï¸"},{placeId:"todai-ji",time:"Day",label:"Nara Deer Park",description:"Feed the deer at Nara Park and visit Todai-ji Temple. Return to Kyoto.",tip:"Don't carry open foodâ€”the deer can be aggressive!",icon:"ðŸ¦Œ"},{placeId:"honke-daiichi",time:"Dinner",label:"Honke Daiichi-Asahi",description:"Dinner at Honke Daiichi-Asahi near Kyoto Station.",tip:"A Kyoto institution serving classic soy-based ramen.",icon:"ðŸœ"}]},{dayNumber:6,city:"Kyoto",theme:"Bamboo Groves & Market Troves",date:"Mon 23 Feb",hotelIds:["ishibekoji-muan"],activities:[{placeId:"arashiyama",time:"Morning",label:"Arashiyama Bamboo",description:"Train to Arashiyama (Bamboo Grove). Visit Tenryu-ji Temple.",tip:"Go as early as possible for the best photos.",icon:"ðŸŽ‹"},{placeId:"nishiki-market",time:"Lunch",label:"Nishiki Market",description:"Return to central Kyoto for lunch at Nishiki Market.",tip:"Try the Tako Tamago (red baby octopus with a quail egg inside).",icon:"ðŸ™"},{placeId:"kiyomizu-dera",time:"Afternoon",label:"Kiyomizu-dera",description:"Visit Kiyomizu-dera Temple. Walk down Sannenzaka.",tip:"Great spot for sunset views over the city.",icon:"ðŸ‚"}]},{dayNumber:7,city:"Kyoto",theme:"Bound for the Kitchen",date:"Tue 24 Feb",hotelIds:["ishibekoji-muan"],activities:[{placeId:"kyoto-station",time:"Morning",label:"Travel to Osaka",description:"Checkout. Special Rapid Service to Osaka Station (30 mins).",tip:"Stand on the platform early to secure a seat.",icon:"ðŸš†"}]},{dayNumber:7,city:"Osaka",theme:"Castles, Crabs & Doyama Nights",date:"Tue 24 Feb",hotelIds:["hilton-osaka"],activities:[{placeId:"osaka-station",time:"Morning",label:"Arrival",description:"Arrive at Osaka Station. Drop bags at Hilton Osaka.",tip:"Hotel is located across from the Central North (Sakurabashi) Exit.",icon:"ðŸ“"},{placeId:"osaka-castle",time:"Morning",label:"Osaka Castle",description:"Visit Osaka Castle.",tip:"Hotel is at Umeda; Castle is a short loop line ride away.",icon:"ðŸ¯"},{placeId:"kushikatsu-daruma",time:"Day",label:"Dotonbori & Shinsekai",description:"Lunch at Kushikatsu Daruma. Eat through Dotonbori and retro Shinsekai.",tip:'Famous for "no double dipping" fried skewers.',icon:"ðŸ¦€"},{placeId:"doyama-cho",time:"Evening",label:"DÅyama-chÅ",description:"Visit DÅyama-chÅ (Gay District) - walking distance from Hilton.",tip:"Umeda is the main gay area in Osaka.",icon:"ðŸ³ï¸â€ðŸŒˆ"},{placeId:"fukutaro",time:"Dinner",label:"Okonomiyaki",description:"Okonomiyaki at Fukutaro or Ajinoya Honten.",tip:"Order the Negiyaki (green onion pancake) at Fukutaro.",icon:"ðŸ¥ž"}]},{dayNumber:8,city:"Osaka",theme:"Wings to China",date:"Wed 25 Feb",hotelIds:["hilton-osaka"],activities:[{placeId:"kansai-airport",time:"Morning",label:"Travel to KIX & Fly",description:"Train/Bus to Kansai Airport. Flight to Shanghai (PVG).",tip:"Allow 60-75 mins for transit to KIX.",icon:"ðŸ›«"}]},{dayNumber:8,city:"Shanghai",theme:"Maglev Speed & Metropolis",date:"Wed 25 Feb",hotelIds:["hilton-shanghai"],activities:[{placeId:"maglev-station",time:"Afternoon",label:"Arrival & Maglev",description:"Land at PVG. Maglev to Longyang Rd; Metro to Hotel.",tip:"Maglev top speed (430km/h) usually 9:00-10:45 & 15:00-15:45.",icon:"ðŸš„"}]},{dayNumber:9,city:"Shanghai",theme:"Beto's Birthday Bash ðŸŽ‚",date:"Thu 26 Feb",hotelIds:["hilton-shanghai"],activities:[{placeId:"tianzifang",time:"Morning",label:"French Concession",description:"Walk the French Concession. Explore Tianzifang.",tip:"Tianzifang is a maze of shikumen lanes filled with arts, crafts, and cafes.",icon:"ðŸŒ³"},{placeId:"jianguo-328",time:"Lunch",label:"Jianguo 328",description:"Lunch at Jianguo 328 (French Concession).",tip:"Bib Gourmand favorite for MSG-free home-style cooking.",icon:"ðŸ¥Ÿ"},{placeId:"fu-1039",time:"Dinner",label:"Fu 1039 or Fu He Hui",description:"Fu 1039 (Classic) or Fu He Hui (Veg).",tip:"Fu 1039 (1 Michelin Star) for Smoked Fish. Fu He Hui (2 Michelin Stars) for world-class vegetarian.",icon:"ðŸ¥¢"},{placeId:"lollipop-shanghai",time:"Evening",label:"Lollipop & HUNT",description:"Cocktails at Lollipop Bar & Lounge followed by dancing at HUNT.",tip:"Lollipop offers a sleek atmosphere for pre-drinks; HUNT is the primary destination for high-energy dancing. Both are located within the French Concession.",icon:"ðŸ¸ðŸ•º"}]},{dayNumber:10,city:"Shanghai",theme:"Gardens, Giants & The Bund",date:"Fri 27 Feb",hotelIds:["hilton-shanghai"],activities:[{placeId:"yu-garden",time:"Morning",label:"Yu Garden & Bazaar",description:"Explore Yu Garden and the Old City Bazaar.",icon:"ðŸ®"},{placeId:"nanxiang-bun",time:"Lunch",label:"Nanxiang Steamed Bun",description:"Lunch at Nanxiang Steamed Bun Restaurant inside Yu Garden.",tip:"Famous for Xiao Long Bao. Takeaway line is long; upstairs seating is faster.",icon:"ðŸ¥Ÿ"},{placeId:"shanghai-tower",time:"Afternoon",label:"Shanghai Tower",description:"Visit the observation deck of China's tallest building.",tip:"Book tickets in advance to skip the queue.",icon:"ðŸ™ï¸"},{placeId:"the-bund",time:"Evening",label:"The Bund",description:"Walk The Bund.",tip:"Best views are just after sunset when the lights turn on.",icon:"ðŸŒƒ"},{placeId:"old-jesse",time:"Dinner",label:"Old Jesse",description:"Old Jesse.",tip:"Pre-order the Hong Shao Rou and Scallion Roasted Fish Head when booking!",icon:"ðŸ½ï¸"}]},{dayNumber:11,city:"Shanghai",theme:"Dumplings & Departure",date:"Sat 28 Feb",hotelIds:["hilton-shanghai"],activities:[{placeId:"maglev-station",time:"Morning",label:"MAGLEV to PVG",description:"Ride MAGLEV to PVG. Access First Class Lounge.",tip:"Morning trains run at 300km/h. The 430km/h service starts at 09:00 (too late for 10:55 flight).",icon:"ðŸš„"},{placeId:"yangs-dumplings",time:"Snack",label:"Yang's Dumplings",description:"Yang's Dumplings inside airport.",tip:"Bite a small hole in the Sheng Jian Bao first to vent the steam!",icon:"ðŸ¥Ÿ"},{placeId:"pudong-airport",time:"10:55",label:"Return Flight",description:"British Airways BA0168 to London (LHR).",tip:"Departs Terminal 2.",icon:"ðŸ›«"}]}],me={Tokyo:"#C2185B",Kyoto:"#558B2F",Osaka:"#E65100",Shanghai:"#0097A7"},ge={hotel:"#ff9100",food:"#ff0033",sight:"#39ff14",travel:"#00e5ff",suggestion:"#bc13fe",sight_rec:"#ccff00",food_rec:"#ff66cc",shopping:"#ffffff",bar:"#1f51ff",default:"#e0e0e0",bar_rec:"#7df9ff"},Me=[{title:"ðŸ‡¯ðŸ‡µ Drugstores (Matsumoto Kiyoshi / Welcia)",items:[{name:"Lululun Face Masks",notes:"Specifically the 'balancing' pink types."},{name:"Perfect Whip Cleanser",notes:"Pink version (collagen) is recommended."},{name:"Anessa Sunscreen",notes:"Gold bottle, roll-on or milk."},{name:"Rohto LycÃ©e Eye Drops",notes:"Whitening and clearing eyes."},{name:"Shiseido Elixir",notes:"Creams and retinol products."},{name:"Zero Spot Patches",notes:"For acne/pimples."}]},{title:"ðŸ‡¯ðŸ‡µ Convenience Stores (7-Eleven / Lawson)",items:[{name:"Onigiri",notes:"Tuna with mayonnaise flavour is recommended."},{name:"Pocky Almond Crush",notes:"Classic crunchy chocolate snack."},{name:"Kanro Pure Premium Gummies",notes:"Popular fruit gummy candy."}]},{title:"ðŸ‡¯ðŸ‡µ Souvenirs & Brands",items:[{name:"Matcha Kit",notes:"High-quality ceremonial matcha, whisk, and bowl."},{name:"Yojiya",notes:"Kyoto-based brand (rice-based products)."},{name:"Kimono/Yukata",notes:"Traditional Japanese garment, casual summer kimono."},{name:"Japanese Sweets",notes:"Assortment of mochi, KitKats, Pocky, and regional snacks."},{name:"Daruma Doll",notes:"Traditional hollow, round, Japanese doll (good luck charm)."}]},{title:"Travel",items:[{name:"Tokyo Transport",notes:"Purchase a Suica or Pasmo IC card immediately for seamless travel on all metro and JR lines."},{name:"Kyoto Logistics",notes:"City buses are frequently gridlocked; prioritise the subway and JR lines for Arashiyama and Fushimi Inari."},{name:"Osaka Navigation",notes:"The Midosuji Line is the primary north-south artery connecting Umeda and Namba; avoid surface transit."},{name:"Shanghai Metro",notes:"Link an international card to Alipay or WeChat Pay to generate transport QR codes; physical tickets are obsolete."}]}],ye="https://docs.google.com/spreadsheets/d/e/2PACX-1vRniSOAatP5VkPcJar3i-lMab0sZxPd3Q5td67o9kig_Zc9ZgjR4mCWL78dWHnxy0Yr9HAHdUxskKwb/pub?gid=1152874887&single=true&output=csv",ke="https://docs.google.com/spreadsheets/d/e/2PACX-1vRniSOAatP5VkPcJar3i-lMab0sZxPd3Q5td67o9kig_Zc9ZgjR4mCWL78dWHnxy0Yr9HAHdUxskKwb/pub?gid=1332892089&single=true&output=csv",fe="https://docs.google.com/spreadsheets/d/e/2PACX-1vRniSOAatP5VkPcJar3i-lMab0sZxPd3Q5td67o9kig_Zc9ZgjR4mCWL78dWHnxy0Yr9HAHdUxskKwb/pub?gid=1754683644&single=true&output=csv",we="https://docs.google.com/spreadsheets/d/e/2PACX-1vRniSOAatP5VkPcJar3i-lMab0sZxPd3Q5td67o9kig_Zc9ZgjR4mCWL78dWHnxy0Yr9HAHdUxskKwb/pub?gid=489356129&single=true&output=csv",se=async E=>{if(!E)throw new Error("URL not provided");const v=`t=${Date.now()}`,A=E.includes("?")?`${E}&${v}`:`${E}?${v}`,s=await fetch(A);if(!s.ok)throw new Error(`Failed to fetch CSV: ${s.statusText}`);const w=await s.text();return new Promise((r,M)=>{Fe.parse(w,{header:!0,skipEmptyLines:!0,transformHeader:L=>L.trim().replace(/^\uFEFF/,""),complete:L=>r(L.data),error:L=>M(L)})})};self.onmessage=async()=>{const E={places:Oe,itinerary:Ee,startDate:Re,endDate:De,theme:{cityColors:me,markerColors:ge},tips:Me};try{if(ye)try{const v=await se(ye),A={};v.forEach(s=>{s.id&&(A[s.id]={id:s.id,name:s.name,type:s.type,city:s.city,coordinates:{lat:parseFloat(s.lat),lon:parseFloat(s.lon)},description:s.description,url:s.url||void 0,tags:s.tags?s.tags.split(",").map(w=>w.trim()):[],hotelMeta:s.type==="hotel"&&s.address?{address:s.address,directions:s.directions,neighborhoodInsights:s.neighborhoodInsights,tags:s.tags?s.tags.split(",").map(w=>w.trim()):[]}:void 0})}),Object.keys(A).length>0&&(E.places=A)}catch(v){console.warn("Failed to load Places CSV in worker, using fallback.",v)}if(ke)try{const v=await se(ke),A=new Map;v.forEach(r=>{const M=parseInt(r.dayNumber);if(isNaN(M)||!r.city)return;A.has(r.city)||A.set(r.city,new Map);const L=A.get(r.city);L.has(M)||L.set(M,{dayNumber:M,city:r.city,theme:r.theme,date:r.date,hotelIds:r.hotelId?[r.hotelId]:[],activities:[]});const V=L.get(M);if(r.theme&&(V.theme=r.theme),r.date&&(V.date=r.date),r.hotelId&&(V.hotelIds||(V.hotelIds=[]),V.hotelIds.includes(r.hotelId)||V.hotelIds.push(r.hotelId)),r.placeId){const h={placeId:r.placeId,time:r.time,label:r.label||void 0,description:r.description||void 0,tip:r.tip||void 0,icon:r.icon||void 0,link:r.link||void 0};V.activities.push(h)}});const s=Array.from(A.entries()).map(([r,M])=>{const L=Math.min(...Array.from(M.keys()));return{city:r,minDay:L,cityDays:M}}).sort((r,M)=>r.minDay-M.minDay),w=[];for(const r of s){const M=Array.from(r.cityDays.values()).sort((L,V)=>L.dayNumber-V.dayNumber);w.push(...M)}w.length>0&&(E.itinerary=w)}catch(v){console.warn("Failed to load Itinerary CSV in worker, using fallback.",v)}if(fe)try{const v=await se(fe),A={...me},s={...ge};let w=!1;v.forEach(r=>{r.category==="city"&&r.key&&r.value?(A[r.key]=r.value,w=!0):r.category==="marker"&&r.key&&r.value&&(s[r.key]=r.value,w=!0)}),w&&(E.theme={cityColors:A,markerColors:s})}catch(v){console.warn("Failed to load Theme CSV in worker, using fallback.",v)}if(we)try{const v=await se(we),A=new Map;v.forEach(w=>{w.category&&(A.has(w.category)||A.set(w.category,{title:w.category,items:[]}),w.item&&A.get(w.category).items.push({name:w.item,notes:w.notes||""}))});const s=Array.from(A.values());s.length>0&&(E.tips=s)}catch(v){console.warn("Failed to load Tips CSV in worker, using fallback.",v)}self.postMessage({type:"SUCCESS",data:E})}catch(v){self.postMessage({type:"ERROR",error:v instanceof Error?v.message:String(v)})}}})();
