import{c as x,u as D,r as l,j as e,X as y}from"./index-DmPRfvzT.js";import{I as R}from"./info-BzFAVYH1.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k=x("chevron-right",F);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A=x("chevron-up",P);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],H=x("list",q);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],U=x("panel-left-close",G);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],X=x("rotate-ccw",V);function B(n){const u=/<\/?(a|strong|em|p)[^>]*>/gi,c=n.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on[a-z]+=/gi,"").replace(/(<a[^>]*target="[^"]*"[^>]*>)/gi,"$1").replace(/(<a[^>]*rel="[^"]*"[^>]*>)/gi,"$1").replace(/<a([^>]*?)>/gi,'<a$1 target="_blank" rel="noopener noreferrer">');return{__html:c.match(u)?c:c.replace(/</g,"&lt;").replace(/>/g,"&gt;")}}const Q=()=>{const{openDay:n,isSidebarOpen:u,toggleSidebar:c,activeCity:s,setActiveCity:b,setOpenDay:C,itineraryData:$,tipsList:z,theme:_,isMobile:M}=D(),[d,o]=l.useState(!1),[p,f]=l.useState(!1),[m,j]=l.useState(s||null),[h,S]=l.useState(null),g=l.useRef(null),v=$.reduce((t,r)=>{const a=r.city,w=`day${r.dayNumber}-${r.city}`;return t[a]||(t[a]=[]),t[a].push({label:`Day ${r.dayNumber}`,identifier:w}),t},{}),i=s&&_.cityColors[s]||"#FF1744",E="#fbbf24";l.useEffect(()=>{const t=r=>{g.current&&!g.current.contains(r.target)&&(o(!1),f(!1))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),l.useEffect(()=>{d&&(f(!1),s&&j(s))},[d,s]),l.useEffect(()=>{p&&o(!1)},[p]);const T=t=>{m===t?(b(t),o(!1)):j(t)},I=()=>n?`Day ${n.replace("day","").split("-")[0]}`:s||"Select City",L=M?"max-h-[60dvh]":"max-h-[500px]",O="absolute bottom-28 left-1/2 -translate-x-1/2 w-[92%] max-w-[420px] z-[2002] flex flex-col pointer-events-none",N=`w-full bg-[#121212]/95 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden shadow-2xl flex flex-col ${L} animate-in slide-in-from-bottom-4 fade-in duration-300 pointer-events-auto`;return e.jsxs("div",{className:"w-full h-full relative pointer-events-none",ref:g,children:[e.jsxs("div",{className:O,children:[d&&e.jsxs("div",{className:N,children:[e.jsxs("div",{className:"px-6 py-5 bg-white/5 border-b border-white/10 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-5 w-1.5 rounded-full",style:{backgroundColor:i}}),e.jsx("span",{className:"text-base font-black text-white uppercase tracking-widest",children:"Select City"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>{b(null),o(!1)},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-white/20 transition-all",title:"Reset Selection",children:e.jsx(X,{size:18})}),e.jsx("button",{onClick:()=>o(!1),className:"w-10 h-10 rounded-full bg-transparent border border-white/10 flex items-center justify-center text-gray-400 hover:text-white hover:border-white transition-all",children:e.jsx(y,{size:20})})]})]}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:Object.keys(v).map(t=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>T(t),className:`px-6 py-5 flex items-center justify-between transition-colors hover:bg-white/5 ${s===t&&!n?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:s===t?{backgroundColor:i}:{backgroundColor:"transparent",border:"1px solid rgba(255,255,255,0.2)"}}),e.jsx("span",{className:"text-base font-black uppercase tracking-wider",children:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s===t&&!n&&e.jsx("span",{className:"text-xs font-bold tracking-tighter",style:{color:i},children:"ACTIVE"}),e.jsx(k,{size:22,className:`transition-transform duration-300 ${m===t?"rotate-90":""}`})]})]}),m===t&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 grid grid-cols-2 gap-3 p-5",children:v[t].map(r=>{const a=n===r.identifier;return e.jsx("button",{onClick:w=>{w.stopPropagation(),b(t),C(r.identifier),o(!1)},className:`px-4 py-4 text-sm font-black rounded-xl transition-all text-center ${a?"text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white"}`,style:a?{backgroundColor:i}:{},children:r.label},r.identifier)})})]},t))})]}),p&&e.jsxs("div",{className:N,children:[e.jsxs("div",{className:"px-6 py-5 bg-white/5 border-b border-white/10 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-5 w-1.5 bg-amber-400 rounded-full"}),e.jsx("span",{className:"text-base font-black text-amber-400 uppercase tracking-widest",children:"Travel Tips"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 rounded-full bg-transparent border border-white/10 flex items-center justify-center text-gray-400 hover:text-white hover:border-white transition-all",title:"Close Tips",children:e.jsx(y,{size:20})})})]}),e.jsx("div",{className:"overflow-y-auto py-2 custom-scrollbar",children:z.map(t=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>S(h===t.title?null:t.title),className:`px-6 py-5 flex items-center justify-between transition-colors hover:bg-white/5 ${h===t.title?"bg-white/10 text-white":"text-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${h===t.title?"bg-amber-400":"bg-transparent border border-white/20"}`}),e.jsx("span",{className:"text-base font-black uppercase tracking-wider text-left",children:t.title})]}),e.jsx(k,{size:22,className:`shrink-0 transition-transform duration-300 ${h===t.title?"rotate-90":""}`})]}),h===t.title&&e.jsx("div",{className:"bg-white/[0.02] border-y border-white/5 flex flex-col p-5 gap-4",children:t.items.map((r,a)=>e.jsx("div",{className:"flex items-start gap-4 px-5 py-5 bg-white/5 border border-white/5 rounded-2xl",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-black text-white uppercase tracking-wide",children:r.name}),r.notes&&e.jsx("div",{className:"text-base text-gray-300 mt-2.5 leading-relaxed",dangerouslySetInnerHTML:B(r.notes)})]})},a))})]},t.title))})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 w-[92%] max-w-[420px] h-16 z-[1001] flex items-center justify-between rounded-full backdrop-blur-xl border shadow-[0_8px_32px_rgba(0,0,0,0.5)] overflow-hidden transition-all duration-300 pointer-events-auto",style:{backgroundColor:s?`${i}F2`:"rgba(20,20,20,0.9)",borderColor:s?i:"rgba(255,255,255,0.15)",boxShadow:s?`0 8px 32px ${i}4D`:"0 8px 32px rgba(0,0,0,0.5)"},children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),c()},className:"w-20 h-full flex items-center justify-center border-r border-white/10 hover:bg-white/10 active:bg-white/20 transition-colors",title:"Itinerary",children:u?e.jsx(U,{size:24,color:s?"white":i}):e.jsx(H,{size:26,color:s?"white":i})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),o(!d)},className:"flex-1 h-full flex items-center justify-center gap-3 hover:bg-white/10 active:bg-white/20 transition-colors",children:e.jsx("div",{className:"flex flex-col items-center justify-center leading-tight",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-base font-black uppercase tracking-widest text-white shadow-sm",children:I()}),e.jsx(A,{size:20,className:`text-white/70 transition-transform duration-300 ${d?"rotate-180":""}`})]})})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),f(!p)},className:"w-20 h-full flex items-center justify-center border-l border-white/10 hover:bg-white/10 active:bg-white/20 transition-colors",title:"Tips",children:e.jsx(R,{size:24,color:s?"white":E})})]})]})};export{Q as Controls};
