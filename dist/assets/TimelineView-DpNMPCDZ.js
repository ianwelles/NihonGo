import{c as h,u as I,j as e,r as j,R as C}from"./index-C0rj3pUc.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D=h("clock",M);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],F=h("external-link",_);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$=h("map-pin",E);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],R=h("plus",A),S=({activity:t,places:a,onActivityClick:i})=>{const l=a[t.placeId];if(!l)return e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-200 text-sm",children:["Place not found: ",t.placeId]});const c=t.label||l.name,m=t.description||l.description,d=t.link||l.url;return e.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-black/30 rounded-lg border border-white/10 cursor-pointer hover:bg-black/50 transition-colors duration-200",onClick:()=>i(l.id),children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-white",children:[t.icon&&e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx(D,{size:14,className:"text-gray-400"}),e.jsx("span",{children:t.time})]}),e.jsx("h4",{className:"text-lg font-bold text-white leading-tight",children:d?e.jsxs("a",{href:d,target:"_blank",rel:"noreferrer",className:"text-white hover:text-[#FF1744] transition-colors flex items-center gap-1",children:[c,e.jsx(F,{size:14,className:"opacity-50"})]}):c}),e.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:m}),t.tip&&e.jsx("div",{className:"flex items-start gap-2 text-xs text-amber-200 bg-amber-500/10 px-3 py-2 rounded-lg border border-amber-500/20 mt-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold uppercase tracking-wider text-[10px] block mb-0.5 text-amber-500",children:"Tip:"}),e.jsx("p",{className:"leading-relaxed",children:t.tip})]})})]})},q=({place:t,activeCityColor:a})=>t.hotelMeta?e.jsx("div",{className:"hotel-section bg-[#121212] rounded-2xl border border-border overflow-hidden mt-10 mb-8 shadow-2xl",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-white text-[10px] font-black px-2 py-0.5 rounded uppercase tracking-widest",style:{backgroundColor:a},children:"Base Camp"}),e.jsx("span",{className:"text-sub-text font-bold text-xs uppercase tracking-widest",children:"Selected Hotel"})]}),e.jsx("h3",{className:"text-2xl font-black text-white mb-2 leading-none uppercase tracking-tighter",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400 mb-6 leading-relaxed italic",children:t.hotelMeta.address}),e.jsxs("div",{className:"flex gap-3",children:[t.url&&e.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"flex-1 text-center py-3 bg-white text-black font-black text-xs rounded-lg hover:bg-opacity-90 transition-all uppercase tracking-widest no-underline border-none",children:"Official Site"}),e.jsx("a",{href:t.hotelMeta.directions,target:"_blank",rel:"noreferrer",className:"flex-1 text-center py-3 border border-white/20 text-white font-bold text-xs rounded-lg hover:bg-white/5 transition-all uppercase tracking-widest no-underline",children:"Directions"})]})]}),e.jsxs("div",{className:"p-8 bg-neutral-900/50 flex flex-col justify-center",children:[e.jsxs("h4",{className:"text-[11px] font-black uppercase tracking-[0.2em] mb-3 flex items-center gap-2",style:{color:a},children:[e.jsx("span",{className:"w-8 h-[1px]",style:{backgroundColor:a}})," Neighborhood Insights"]}),e.jsx("p",{className:"text-sm text-sub-text leading-relaxed font-medium",children:t.hotelMeta.neighborhoodInsights}),e.jsx("div",{className:"mt-5 flex gap-2",children:t.hotelMeta.tags.map((i,l)=>e.jsx("span",{className:"text-[9px] font-black uppercase text-white/30 tracking-widest border border-white/10 px-2 py-1 rounded",children:i},l))})]})]})}):null,H=()=>{const{activeCity:t,openDay:a,setOpenDay:i,itineraryData:l,places:c,theme:m,setOpenPlaceId:d}=I();if(!t)return e.jsxs("div",{className:"py-12 px-6 text-center bg-card-bg rounded-2xl border border-border",children:[e.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx($,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Select a City"}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Choose a city above to view your curated itinerary and daily highlights."})]});const N=l.filter(r=>r.city===t),f=m.cityColors[t]||"#FF1744",p=j.useRef({});j.useEffect(()=>{var r;a&&p.current[a]&&((r=p.current[a])==null||r.scrollIntoView({behavior:"smooth",block:"start"}))},[a]);const k=(r,b)=>{r.preventDefault(),i(b)},w=r=>{d(r)};return e.jsx("div",{className:"w-full pb-24",children:N.map(r=>{const b=l.findIndex(s=>s.dayNumber===r.dayNumber&&s.city===r.city),g=l[b+1],u=!g||g.city!==r.city;let y=[];if(u){const s=l.filter(n=>n.city===r.city),x=new Set;s.forEach(n=>{n.hotelIds&&n.hotelIds.forEach(v=>x.add(v))}),y=Array.from(x).map(n=>c[n]).filter(Boolean)}const o=`day${r.dayNumber}-${r.city}`;return e.jsxs(C.Fragment,{children:[e.jsxs("details",{ref:s=>p.current[o]=s,open:a===o,className:"group bg-card-bg rounded-2xl border border-border overflow-hidden transition-all duration-300 mb-4",children:[e.jsxs("summary",{onClick:s=>k(s,o),className:"p-5 cursor-pointer list-none flex items-center justify-between hover:bg-white/5 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("span",{className:"text-xl md:text-base font-bold min-w-[3.5rem]",style:{color:f},children:["Day ",r.dayNumber]}),e.jsxs("div",{className:"flex flex-col items-start border-l border-white/10 pl-4",children:[e.jsx("span",{className:"text-lg font-bold text-white leading-tight",children:r.theme}),e.jsx("span",{className:"text-sm font-medium text-gray-400 mt-0.5",children:r.date})]})]}),e.jsx(R,{className:`text-gray-400 transition-transform duration-300 ${a===o?"rotate-45":""}`})]}),e.jsx("div",{className:"day-content p-5 pt-0 text-gray-200 border-t border-white/5 flex flex-col gap-4",children:r.activities.map((s,x)=>e.jsx(S,{activity:s,places:c,onActivityClick:w},x))})]}),u&&y.map(s=>e.jsx(q,{place:s,activeCityColor:f},s.id))]},o)})})};export{H as TimelineView};
